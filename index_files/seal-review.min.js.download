(()=>{"use strict";var t={472:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(354),n=i.n(s),o=i(314),r=i.n(o)()(n());r.push([t.id,'@font-face {\n  font-family: "iconfont";\n  /* Project id 4017216 */\n  src: url("//cdn.vstar.app/static/css/fonts/iconfont.woff2?t=169") format("woff2"), url("//cdn.vstar.app/static/css/fonts/iconfont.woff?t=1681525258204") format("woff"), url("//cdn.vstar.app/static/css/fonts/iconfont.ttf?t=1681525258204") format("truetype");\n}\n.vstar-star {\n  font-size: 0 !important;\n}\n.vstar-star.right {\n  text-align: right;\n}\n.vstar-star.center {\n  text-align: center;\n}\n.vstar-star > * {\n  display: inline-block;\n  vertical-align: middle;\n}\n.vstar-star .star-item {\n  margin-right: 2px;\n  font-size: 0;\n  line-height: normal;\n}\n.vstar-star .star-item.half-star {\n  position: relative;\n}\n.vstar-star .item-star,\n.vstar-star .item-nostar {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.vstar-star .item-star {\n  overflow: hidden;\n}\n.vstar-star i.trustoo-icon-star,\n.vstar-star i.trustoo-icon-nostar {\n  display: inline;\n}\n.collection-icon-list {\n  margin: 5px 0;\n}\n.collection-icon-list .collection-reviews-num {\n  margin: 1px 6px 0 3px;\n  font-size: 13px;\n  line-height: normal;\n  color: #888;\n  opacity: 0.8;\n}\n#vstar-reviews #reviews-head {\n  display: flex;\n}\n#vstar-reviews .head-sort {\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n#vstar-reviews .head-sort .sort-content {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n#vstar-reviews #reviews-body {\n  position: relative;\n}\n#vstar-reviews .list-review .img-item,\n#vstar-reviews .list-review .resource-item {\n  width: 100px;\n  height: 100px;\n  overflow: hidden;\n}\n#vstar-reviews .grid-review {\n  position: absolute;\n  display: inline-block;\n  padding-bottom: 16px;\n  vertical-align: top;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.12);\n  border-radius: 8px;\n  animation: recover 1s linear;\n}\n#vstar-reviews .grid-review svg,\n#trustoo-review-detail .review-info svg {\n  vertical-align: middle;\n}\n#vstar-reviews .grid-review .grid-review-head,\n#trustoo-review-detail .review-info .grid-review-head {\n  margin-top: 16px;\n  padding: 0 16px;\n  position: relative;\n}\n#vstar-reviews .grid-review .user-message,\n#trustoo-review-detail .review-info .user-message {\n  margin: 12px 0 12px;\n}\n#vstar-reviews .grid-review .user-name,\n#trustoo-review-detail .review-info .user-name {\n  padding: 0;\n  margin-right: 6px;\n  vertical-align: middle;\n  font-weight: 700;\n  font-size: 14px;\n}\n#vstar-reviews .grid-review .country-name,\n#trustoo-review-detail .review-info .country-name {\n  font-size: 16px;\n  vertical-align: middle;\n}\n#vstar-reviews .grid-review .reviews-date,\n#trustoo-review-detail .review-info .reviews-date {\n  line-height: 22px;\n  font-size: 12px;\n}\n#vstar-reviews .grid-review .grid-review-body,\n#trustoo-review-detail .review-info .grid-review-body {\n  padding: 0 16px;\n}\n#vstar-reviews .grid-review .reviews-text,\n#trustoo-review-detail .review-info .reviews-text {\n  font-size: 14px;\n  word-wrap: break-word;\n}\n#vstar-reviews .grid-review .display-text,\n#trustoo-review-detail .review-info .display-text {\n  font-size: 14px;\n}\n#vstar-reviews .grid-review .img-item,\n#vstar-reviews .grid-review .resource-item {\n  width: 100%;\n  display: block;\n  border-radius: 8px 8px 0 0;\n}\n#vstar-reviews .grid-review img {\n  width: 100%;\n  border-radius: 8px 8px 0 0;\n}\n[class^="trustoo-icon-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "iconfont" !important;\n  speak: never;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  font-size: 14px;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.trustoo-icon-helpful:before {\n  content: "\\e605";\n  color: var(--font-color);\n}\n.trustoo-icon-unhelpful:before {\n  content: "\\e606";\n  color: var(--font-color);\n}\n.trustoo-icon-star:before {\n  content: "\\e602";\n  color: var(--star-color);\n}\n.trustoo-icon-nostar:before {\n  content: "\\e602";\n  color: var(--nostar-color);\n}\n',"",{version:3,sources:["webpack://./static/css/trustoo-insert.less"],names:[],mappings:"AAEA;EACC,uBAAA;EADC,uBAAuB;EAGxB,gQAAA;AADD;AASA;EACC,uBAAA;AAPD;AASC;EACC,iBAAA;AAPF;AAUC;EACC,kBAAA;AARF;AAWC;EACC,qBAAA;EACA,sBAAA;AATF;AAJA;EAiBE,iBAAA;EACA,YAAA;EACA,mBAAA;AAVF;AATA;EAuBE,kBAAA;AAXF;AAZA;;EA4BE,kBAAA;EACA,WAAA;EACA,YAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;AAZF;AAtBA;EAsCE,gBAAA;AAbF;AAzBA;;EA2CE,eAAA;AAdF;AAkBA;EACC,aAAA;AAhBD;AAeA;EAUE,qBAAA;EACA,eAAA;EACA,mBAAA;EACA,WAAA;EACA,YAAA;AAtBF;AA0BA;EAEE,aAAA;AAzBF;AAuBA;EAOE,WAAA;EACA,YAAA;EACA,sBAAA;AA3BF;AAkBA;EAYG,kBAAA;EACA,WAAA;EACA,YAAA;AA3BH;AAiCA;EACC,kBAAA;AA/BD;AAkCA;;EAEC,YAAA;EACA,aAAA;EACA,gBAAA;AAhCD;AAmCA;EACC,kBAAA;EACA,qBAAA;EACA,oBAAA;EACA,mBAAA;EACA,gDAAA;EACA,kBAAA;EACA,4BAAA;AAjCD;AAoCA;;EAGE,sBAAA;AAnCF;AAgCA;;EAOE,gBAAA;EACA,eAAA;EACA,kBAAA;AAnCF;AA0BA;;EAaE,mBAAA;AAnCF;AAsBA;;EAiBE,UAAA;EACA,iBAAA;EACA,sBAAA;EACA,gBAAA;EACA,eAAA;AAnCF;AAcA;;EAyBE,eAAA;EACA,sBAAA;AAnCF;AASA;;EA8BE,iBAAA;EACA,eAAA;AAnCF;AAIA;;EAmCE,eAAA;AAnCF;AAAA;;EAuCE,eAAA;EACA,qBAAA;AAnCF;AALA;;EA4CE,eAAA;AAnCF;AAuCA;;EAGE,WAAA;EACA,cAAA;EACA,0BAAA;AAtCF;AAiCA;EASE,WAAA;EACA,0BAAA;AAvCF;AA2CA;EAzCE,+EAA+E;EA2ChF,kCAAA;EACA,YAAA;EACA,kBAAA;EACA,mBAAA;EACA,oBAAA;EACA,oBAAA;EACA,cAAA;EACA,eAAA;EAzCC,sCAAsC;EA2CvC,mCAAA;EACA,kCAAA;AAzCD;AA4CA;EACC,gBAAA;EACA,wBAAA;AA1CD;AA6CA;EACC,gBAAA;EACA,wBAAA;AA3CD;AA8CA;EACC,gBAAA;EACA,wBAAA;AA5CD;AA+CA;EACC,gBAAA;EACA,0BAAA;AA7CD",sourcesContent:['// out: false\n// Mark 星星样式\n@font-face {\n\tfont-family: "iconfont";\n\t/* Project id 4017216 */\n\tsrc: url("//cdn.vstar.app/static/css/fonts/iconfont.woff2?t=169")\n\t\t\tformat("woff2"),\n\t\turl("//cdn.vstar.app/static/css/fonts/iconfont.woff?t=1681525258204")\n\t\t\tformat("woff"),\n\t\turl("//cdn.vstar.app/static/css/fonts/iconfont.ttf?t=1681525258204")\n\t\t\tformat("truetype");\n}\n\n.vstar-star {\n\tfont-size: 0 !important;\n\n\t&.right {\n\t\ttext-align: right;\n\t}\n\n\t&.center {\n\t\ttext-align: center;\n\t}\n\n\t& > * {\n\t\tdisplay: inline-block;\n\t\tvertical-align: middle;\n\t}\n\n\t.star-item {\n\t\tmargin-right: 2px;\n\t\tfont-size: 0;\n\t\tline-height: normal;\n\t}\n\n\t.star-item.half-star {\n\t\tposition: relative;\n\t}\n\n\t.item-star,\n\t.item-nostar {\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t.item-star {\n\t\toverflow: hidden;\n\t}\n\n\ti.trustoo-icon-star,\n\ti.trustoo-icon-nostar {\n\t\tdisplay: inline;\n\t}\n}\n\n.collection-icon-list {\n\tmargin: 5px 0;\n\n\t// .star-item {\n\t//   margin: 0;\n\t//   margin-right: 2px;\n\t//   line-height: 0px !important;\n\t// }\n\n\t.collection-reviews-num {\n\t\tmargin: 1px 6px 0 3px;\n\t\tfont-size: 13px;\n\t\tline-height: normal;\n\t\tcolor: #888;\n\t\topacity: 0.8;\n\t}\n}\n\n#vstar-reviews {\n\t#reviews-head {\n\t\tdisplay: flex;\n\t}\n\n\t.head-sort {\n\t\t// position: absolute;\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tbox-sizing: border-box;\n\n\t\t.sort-content {\n\t\t\tposition: relative;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n}\n\n// Mark 瀑布流样式\n#vstar-reviews #reviews-body {\n\tposition: relative;\n}\n\n#vstar-reviews .list-review .img-item,\n#vstar-reviews .list-review .resource-item {\n\twidth: 100px;\n\theight: 100px;\n\toverflow: hidden;\n}\n\n#vstar-reviews .grid-review {\n\tposition: absolute;\n\tdisplay: inline-block;\n\tpadding-bottom: 16px;\n\tvertical-align: top;\n\tbox-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.12);\n\tborder-radius: 8px;\n\tanimation: recover 1s linear;\n}\n\n#vstar-reviews .grid-review,\n#trustoo-review-detail .review-info {\n\tsvg {\n\t\tvertical-align: middle;\n\t}\n\n\t.grid-review-head {\n\t\tmargin-top: 16px;\n\t\tpadding: 0 16px;\n\t\tposition: relative;\n\t}\n\n\t.user-message {\n\t\tmargin: 12px 0 12px;\n\t}\n\n\t.user-name {\n\t\tpadding: 0;\n\t\tmargin-right: 6px;\n\t\tvertical-align: middle;\n\t\tfont-weight: 700;\n\t\tfont-size: 14px;\n\t}\n\n\t.country-name {\n\t\tfont-size: 16px;\n\t\tvertical-align: middle;\n\t}\n\n\t.reviews-date {\n\t\tline-height: 22px;\n\t\tfont-size: 12px;\n\t}\n\n\t.grid-review-body {\n\t\tpadding: 0 16px;\n\t}\n\n\t.reviews-text {\n\t\tfont-size: 14px;\n\t\tword-wrap: break-word;\n\t}\n\n\t.display-text {\n\t\tfont-size: 14px;\n\t}\n}\n\n#vstar-reviews .grid-review {\n\t.img-item,\n\t.resource-item {\n\t\twidth: 100%;\n\t\tdisplay: block;\n\t\tborder-radius: 8px 8px 0 0;\n\t}\n\n\timg {\n\t\twidth: 100%;\n\t\tborder-radius: 8px 8px 0 0;\n\t}\n}\n\n[class^="trustoo-icon-"] {\n\t/* use !important to prevent issues with browser extensions that change fonts */\n\tfont-family: "iconfont" !important;\n\tspeak: never;\n\tfont-style: normal;\n\tfont-weight: normal;\n\tfont-variant: normal;\n\ttext-transform: none;\n\tline-height: 1;\n\tfont-size: 14px;\n\t/* Better Font Rendering =========== */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n}\n\n.trustoo-icon-helpful:before {\n\tcontent: "\\e605";\n\tcolor: var(--font-color);\n}\n\n.trustoo-icon-unhelpful:before {\n\tcontent: "\\e606";\n\tcolor: var(--font-color);\n}\n\n.trustoo-icon-star:before {\n\tcontent: "\\e602";\n\tcolor: var(--star-color);\n}\n\n.trustoo-icon-nostar:before {\n\tcontent: "\\e602";\n\tcolor: var(--nostar-color);\n}\n'],sourceRoot:""}]);const a=r},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);s&&r[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),i&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=i):c[2]=i),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),e.push(c))}},e}},354:t=>{t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),o="/*# ".concat(n," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},72:t=>{var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var o={},r=[],a=0;a<t.length;a++){var l=t[a],d=s.base?l[0]+s.base:l[0],c=o[d]||0,p="".concat(d," ").concat(c);o[d]=c+1;var u=i(p),v={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)e[u].references++,e[u].updater(v);else{var g=n(v,s);s.byIndex=a,e.splice(a,0,{identifier:p,updater:g,references:1})}r.push(p)}return r}function n(t,e){var i=e.domAPI(e);i.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var a=i(o[r]);e[a].references--}for(var l=s(t,n),d=0;d<o.length;d++){var c=i(o[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=l}}},659:t=>{var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},868:t=>{t.exports=function(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},957:(t,e,i)=>{i.d(e,{nj:()=>l,zG:()=>a});var s=i(571),n=i(405),o=i(986);function r(t,e,i,n=!1,r=!1){return new Promise(((a,l)=>{!function(t,e={},i="GET",n,r=!1,a,l){let d=new XMLHttpRequest;var c=`https://${Review.baseUrl}/api/v1/`;let p="";p=r?t:a?s.A.uploadImgInfo.host:c+t;let u="";if("object"!=typeof e||a||(u=Object.keys(e).reduce(((t,i)=>t+"&"+i+"="+e[i]),"")),"POST"==i?u=u&&!a?u.slice(1):e:"GET"==i&&u&&(u=u.replace("&","?"),p+=u),d.open(i,p,!0),"undefined"!=typeof md5&&!a&&!r){const t=(0,o.getSign)(s.A),e=t.t,i=t.v;d.setRequestHeader("sign",i),d.setRequestHeader("timestamp",e)}u&&"POST"==i?d.send(u):d.send(),d.onreadystatechange=()=>{if(4==d.readyState){let t=d.responseText;200==d.status||203==d.status?n&&n(t):l&&l({responseText:t,statusText:d.statusText})}}}(t,e,i,a,n,r,l)})).then((t=>{if(t=r?{name:e.get("name"),key:e.get("key")}:JSON.parse(t),!n&&!r){const e=t.code;if(-1===e)throw t;if(-2===e)throw t;t=t.data}return[null,t]})).catch((t=>{let i=[{error:t.message,params:e,code:t.code}];return r&&i.push(e.get("name")),i}))}const a={getUserSetting:()=>r("users/get_reviews_settings",{shop_id:Review.shop_id}),getInstallStatus:()=>r("reviews/get_shop_install_status",{shop_id:Review.shop_id}),getUserNeed:()=>r("reviews/get_custom_info",{shop_id:Review.shop_id}),getLang:()=>r("reviews/get_customer_self_define_lang",{shop_id:Review.shop_id,lang:Review.lang}),getProductRating(t){let e={shop_id:Review.shop_id},i=s.A.productId;return i?e.product_id=i:t&&(e.product_handle=t),r("reviews/get_product_rating",e)},getCollRating(t,e){let i={shop_id:Review.shop_id};return t?i.product_handle=t:i.product_id=e,r("reviews/get_products_rating",i)},getProRevList(t,e,i,o,a,l,d){i||0===i||(i=(0,n.a)()),o||(o=s.A.layoutReviewCount);let c={shop_id:Review.shop_id,limit:o};return i&&(c.page=i),s.A.isWdoRevOpen?(c.scene=2,c.is_show_all=1):s.A.isMixReview?(c.scene=1,c.is_show_all=1):c.product_id=s.A.productId,0!==e&&(c.rating_filter=e),a&&(c.is_buyers_show=a),l&&(c.has_resource=1),d&&(c.review_id=d),c.sort_by=t,1!==s.A.userSetting.is_translate_review&&1!==s.A.userSetting.auto_switch_language||(c.lang=Review.lang),c.t=s.A.revReqParam,r("reviews/get_product_reviews",c)},getProductInfo(t){let e={shop_id:Review.shop_id};return t?e.product_title=t:e.product_id=s.A.productId,r("products/get_shopify_product_info",e)},recordInfo:t=>r(location.origin+"/apps/trustoo-proxy/api/v1/reviews/collect",t,"GET",!0),getOnlyOneProduct:()=>r("products/get_product_only_one",{shop_id:Review.shop_id}),getWriteRevSetting:()=>r("reviews/get_write_review_setting",{shop_id:Review.shop_id}),getPolicyToken:()=>r("review/get_policy_token",{shop_id:Review.shop_id}),uploadImg(t){const e=s.A.uploadImgInfo;let i=(0,o.get_suffix)(t.name),n=new FormData;return n.append("name",t.name),n.append("key",e.dir+i),n.append("policy",e.policy),n.append("OSSAccessKeyId",e.accessid),n.append("success_action_status","200"),n.append("callback",e.callback),n.append("signature",e.signature),n.append("file",t),72898347282===s.A.shop_id&&(n=n.fd),r("",n,"POST",!1,!0)},getUploadVideoUrl:()=>r("reviews/get_upload_url",{shop_id:Review.shop_id}),uploadVideo(t,e){let i=new FormData;return i.append("file",e),r(t,i,"POST",!0)},uploadReview(t,e,i){const{shop_id:n}=s.A,o=s.A.ratingVal;return 1===e?t.resources=i.map((t=>({url:"https://img.vstar.app/"+t.url,resource_type:1}))):2===e&&(i[0].resource_type=2,t.resources=i),Object.assign(t,{product_id:s.A.productId,shop_id:n,rating:o}),r("reviews/add",JSON.stringify(t),"POST",!1)},getInsList(){const{shop_id:t,insPageSize:e,insCurPage:i}=s.A;return r("reviews/get_instagram_fee_list",{shop_id:t,limit:e,cur_page:i})},getInsSetting(){const{shop_id:t}=s.A;return r("reviews/get_instagram_setting",{shop_id:t})},likeOrDislikeReview(t,e,i){let n="";1===t?n="reviews/like_review":2===t&&(n="reviews/dislike_review");const{shop_id:o}=s.A;return r(n,JSON.stringify({shop_id:o,review_id:i,type:e}),"POST")},getBuyerShowsSettings(){const{shop_id:t}=s.A;return r("reviews/get_buyers_show_settings",{shop_id:t})},sendErrorMsg(t,e){let i={shop_id:Review.shop_id,theme_id:s.A.themeId,type:t,content:e};return r("reviews/warning_feedback",JSON.stringify(i),"POST")}},l={getSetting:()=>r("reviews/get_qa_settings",{shop_id:Review.shop_id}),getList:t=>(Object.assign(t,{shop_id:Review.shop_id,product_id:s.A.productId,page:(0,n.a)(),lang:Review.lang}),r("reviews/get_qa_list",t)),addQA:t=>(t.shop_id=Review.shop_id,t.product_id=s.A.productId,r("reviews/add_qa",JSON.stringify(t),"POST")),likeOrDislikeQA(t,e,i){let n="";1===t?n="reviews/like_qa":2===t&&(n="reviews/dislike_qa");const{shop_id:o}=s.A;return r(n,JSON.stringify({shop_id:o,qa_id:i,type:e}),"POST")}};s.A.getRevList=a.getProRevList},357:(t,e,i)=>{i.d(e,{A:()=>s});const s={verified:t=>`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM5.30236 10.7724C5.45276 10.9239 5.64913 11 5.84629 11C6.04267 11 6.23982 10.9239 6.39022 10.7724L11.775 5.32765C12.075 5.02399 12.075 4.532 11.775 4.22834C11.4742 3.92389 10.9871 3.92389 10.6871 4.22834L5.84629 9.1223L3.31288 6.56115C3.01286 6.25748 2.52581 6.25748 2.22501 6.56115C1.925 6.86481 1.925 7.35758 2.22501 7.66125L5.30236 10.7724Z" fill="${t}"/>\n    </svg>`,close:t=>`<svg style="width:20px;height:20px" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6.99968 5.95621L1.25984 0.216371C1.12066 0.0819462 0.934254 0.00756417 0.740764 0.00924555C0.547273 0.0109269 0.362184 0.0885372 0.225361 0.225361C0.0885372 0.362184 0.010927 0.547273 0.00924558 0.740764C0.0075642 0.934254 0.0819463 1.12066 0.216371 1.25984L5.95547 6.99968L0.216371 12.7395C0.147807 12.808 0.0934101 12.8894 0.056285 12.9789C0.01916 13.0685 3.431e-05 13.1644 4.612e-08 13.2614C-3.42178e-05 13.3583 0.0190236 13.4543 0.0560853 13.5439C0.0931471 13.6334 0.147487 13.7148 0.216002 13.7834C0.284518 13.8519 0.365867 13.9063 0.455405 13.9435C0.544944 13.9806 0.640917 13.9997 0.737847 13.9997C0.834777 13.9998 0.930764 13.9807 1.02033 13.9437C1.10989 13.9066 1.19128 13.8523 1.25984 13.7837L6.99968 8.04316L12.7395 13.7837C12.8081 13.8523 12.8895 13.9067 12.9791 13.9438C13.0687 13.9809 13.1647 14 13.2616 14C13.3586 14 13.4546 13.9809 13.5442 13.9438C13.6338 13.9067 13.7152 13.8523 13.7837 13.7837C13.8523 13.7152 13.9067 13.6338 13.9438 13.5442C13.9809 13.4546 14 13.3586 14 13.2616C14 13.1647 13.9809 13.0687 13.9438 12.9791C13.9067 12.8895 13.8523 12.8081 13.7837 12.7395L8.04316 6.99968L13.7837 1.25984C13.9221 1.12137 13.9998 0.933605 13.9997 0.737847C13.9997 0.542089 13.9218 0.354375 13.7834 0.216002C13.6449 0.0776292 13.4571 -6.91476e-05 13.2614 4.61754e-08C13.0656 6.92399e-05 12.8779 0.0779003 12.7395 0.216371L6.99968 5.95547V5.95621Z" fill="\n    ${t}"/>\n    </svg> \n    `,star:(t=14,e="")=>`<svg width="${t}" height="${t}" style="width:${t}px;height:${t}px" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 0L12.8214 6.11672L19.5106 6.90983L14.5651 11.4833L15.8779 18.0902L10 14.8L4.12215 18.0902L5.43493 11.4833L0.489435 6.90983L7.17863 6.11672L10 0Z" fill="${e}"/>\n    </svg>\n    `,store:(t="#666666")=>`<svg width="14" height="14" viewBox="0 0 10 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.48243 8.25H1.56692V6H0.798534V9H9.25082V6H8.48243V8.25ZM9.94237 2.85C9.86553 2.625 9.78869 2.475 9.71185 2.25C9.25082 1.5 8.86663 0.75 8.48243 0H1.56692L1.49008 0.15C1.41325 0.3 1.33641 0.375 1.33641 0.525C1.10589 0.975 0.875373 1.35 0.644856 1.8L0.414339 2.25C0.260661 2.55 0.106983 2.85 0.0301443 3.15C-0.0466947 3.525 0.0301443 3.9 0.183822 4.2C0.491178 4.8 1.10589 5.175 1.7206 5.25C2.33531 5.325 3.1037 5.025 3.4879 4.5C3.87209 4.95 4.40997 5.25 5.02468 5.25C5.63939 5.25 6.17726 4.95 6.56146 4.5C7.02249 5.1 7.86772 5.4 8.55927 5.175C9.32766 5.025 9.86553 4.35 9.94237 3.6C10.0192 3.375 10.0192 3.075 9.94237 2.85ZM8.71295 4.35C8.32875 4.575 7.71404 4.5 7.40669 4.275C7.02249 3.975 6.86881 3.45 6.94565 3H6.17726C6.33094 3.525 6.02358 4.125 5.56255 4.35C5.02468 4.65 4.33313 4.425 4.02577 3.975C3.87209 3.675 3.87209 3.3 3.87209 3H3.1037C3.1037 3.375 3.1037 3.675 2.87319 3.975C2.64267 4.425 1.95112 4.65 1.49008 4.425C1.02905 4.2 0.721695 3.6 0.798534 3.075C0.875373 2.85 0.952212 2.625 1.10589 2.4C1.33641 1.95 1.56692 1.575 1.87428 1.125C1.95112 1.05 2.02796 0.9 2.02796 0.825L2.1048 0.75H7.94456C8.25191 1.35 8.63611 1.875 8.94347 2.475C9.09714 2.7 9.17398 2.925 9.25082 3.15V3.375C9.25082 3.75 9.0203 4.125 8.71295 4.35Z" fill="${t}"/>\n    </svg>\n    `,hook:()=>'<svg width="14" height="10" viewBox="0 0 14 10" fill="none"\n    xmlns="http://www.w3.org/2000/svg">\n    <path d="M4.95902 6.78757L11.8702 0.242483C12.0341 0.0871857 12.256 0 12.4874 0C12.7187 0 12.9406 0.0871857 13.1046 0.242483L13.7423 0.84642C13.824 0.92377 13.8888 1.01571 13.933 1.11696C13.9772 1.21821 14 1.32677 14 1.43642C14 1.54606 13.9772 1.65462 13.933 1.75587C13.8888 1.85712 13.824 1.94906 13.7423 2.02641L5.59196 9.74524C5.55018 9.78491 5.50431 9.82047 5.45505 9.85138C5.28683 9.9625 5.08298 10.0139 4.879 9.99675C4.67502 9.97957 4.48384 9.89483 4.33876 9.75731L0.257673 5.89228C0.176006 5.81493 0.111202 5.72299 0.0669826 5.62174C0.0227634 5.52049 0 5.41193 0 5.30228C0 5.19264 0.0227634 5.08408 0.0669826 4.98283C0.111202 4.88158 0.176006 4.78964 0.257673 4.71229L0.895425 4.10835C1.05937 3.95305 1.28129 3.86587 1.51262 3.86587C1.74395 3.86587 1.96587 3.95305 2.12981 4.10835L4.95902 6.78757Z"\n    fill="#2A2A37" />\n    </svg>',prePage:t=>`<svg style="width:13px;height:13px" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.84 2.066V1.031c0-.09-.104-.14-.173-.084L.629 5.662a.427.427 0 0 0 0 .674l6.038 4.716a.107.107 0 0 0 .173-.085V9.932a.217.217 0 0 0-.082-.169L1.936 6l4.822-3.765a.217.217 0 0 0 .082-.169z" fill="${t}"/></svg>`,nextPage:t=>`<svg style="width:13px;height:13px" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.398 5.663L.36.947a.107.107 0 0 0-.172.085v1.035c0 .065.03.128.081.169L5.091 6 .269 9.765a.213.213 0 0 0-.081.169v1.035c0 .09.103.14.172.084l6.038-4.715a.428.428 0 0 0 0-.675z" fill="${t}" fill-opacity=".85"/></svg>`,helpful:t=>`\n\t\t<svg width="14" height="14" viewBox="0 0 110 110" fill="none" xmlns="http://www.w3.org/2000/svg" class="tt-helpful ${t}">\n\t\t\t<g id="Frame">\n\t\t\t<path id="Vector" d="M66.7821 43.8307C68.5673 35.8557 69.814 30.0876 70.5244 26.5149C72.3119 17.5201 67.6701 9.16699 58.4702 9.16699C50.1744 9.16699 46.0082 13.2897 43.5515 21.5305L43.4885 21.7712C42.0138 28.4376 39.7588 33.6053 36.7739 37.3029C35.2207 39.2318 33.2649 40.7981 31.0433 41.8922C28.8216 42.9863 26.3877 43.5818 23.9119 43.6371L21.5584 43.6875C15.9461 43.8078 11.459 48.4278 11.459 54.0871V88.2295C11.459 95.1904 17.0564 100.834 23.9623 100.834H68.2763C77.3788 100.834 85.5039 95.0793 88.5919 86.4477L97.7975 60.7112C100.14 54.1627 96.7731 46.9394 90.2774 44.5778C88.9178 44.0835 87.4822 43.8307 86.0355 43.8307H66.7821Z" />\n\t\t\t</g>\n\t\t</svg>\n\t\t`,unhelpful:t=>`\n\t\t<svg width="14" height="14" viewBox="0 0 110 110" fill="none" xmlns="http://www.w3.org/2000/svg" class="tt-unhelpful ${t}">\n\t\t\t<g id="Frame">\n\t\t\t<path id="Vector" d="M66.7821 66.1693C68.5673 74.1443 69.814 79.9124 70.5244 83.4851C72.3119 92.4799 67.6701 100.833 58.4702 100.833C50.1744 100.833 46.0082 96.7103 43.5515 88.4695L43.4885 88.2288C42.0138 81.5624 39.7588 76.3947 36.7739 72.6971C35.2207 70.7682 33.2649 69.2019 31.0433 68.1078C28.8216 67.0137 26.3877 66.4182 23.9119 66.3629L21.5584 66.3125C15.9461 66.1922 11.459 61.5722 11.459 55.9129L11.459 21.7705C11.459 14.8096 17.0564 9.16634 23.9623 9.16633L68.2763 9.16633C77.3788 9.16633 85.5039 14.9207 88.5919 23.5523L97.7975 49.2888C100.14 55.8373 96.7731 63.0606 90.2774 65.4222C88.9178 65.9165 87.4822 66.1693 86.0355 66.1693L66.7821 66.1693Z" />\n\t\t\t</g>\n\t\t\t</svg>\n\t\t`,sort:(t="#202123")=>`<svg xmlns="http://www.w3.org/2000/svg" width="10" height="6" viewBox="0 0 10 6" fill="none">\n\t\t<path d="M10 1.00024C10.0001 1.07086 9.98523 1.1407 9.95626 1.2051C9.92729 1.2695 9.88493 1.32699 9.83199 1.37374L5.33187 5.3737C5.24042 5.45506 5.12227 5.5 4.99986 5.5C4.87746 5.5 4.75931 5.45506 4.66785 5.3737L0.167731 1.37374C0.118681 1.33014 0.0786984 1.27731 0.0500671 1.21826C0.0214358 1.15921 0.00471592 1.0951 0.00086218 1.02959C-0.00299156 0.964078 0.00609628 0.898449 0.0276068 0.83645C0.0491174 0.774451 0.0826294 0.717296 0.126229 0.668248C0.169829 0.6192 0.222664 0.579219 0.281716 0.550589C0.340767 0.521958 0.40488 0.505239 0.470394 0.501386C0.535907 0.497532 0.601538 0.506619 0.66354 0.528129C0.725541 0.549639 0.782699 0.583149 0.831749 0.626748L4.99986 4.33171L9.16798 0.626748C9.23994 0.562557 9.32895 0.520568 9.42425 0.505852C9.51956 0.491135 9.61708 0.504318 9.70506 0.543811C9.79303 0.583304 9.8677 0.647416 9.92004 0.728409C9.97237 0.809403 10.0001 0.903813 10 1.00024Z" fill="${t}"/>\n\t</svg>`,multiPhoto:()=>'\n\t\t<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<g id="Frame" clip-path="url(#clip0_19222_33518)">\n\t\t\t<g id="Vector" filter="url(#filter0_d_19222_33518)">\n\t\t\t<path d="M15.9499 13.6124V5.04154C15.9499 3.71237 14.8957 2.6582 13.5665 2.6582H5.04154C3.71237 2.6582 2.6582 3.71237 2.6582 5.04154V13.6124C2.6582 14.9415 3.71237 15.9957 5.04154 15.9957H13.6124C14.8957 15.9499 15.9499 14.8957 15.9499 13.6124ZM17.9665 6.87487V14.254C17.9665 16.3165 16.2707 18.0124 14.2082 18.0124H6.82904C6.55404 18.0124 6.41654 18.3332 6.59987 18.5165C7.0582 19.0207 7.69987 19.3415 8.47904 19.3415H14.6207C17.2332 19.3415 19.3415 17.2332 19.3415 14.6207V8.47904C19.3415 7.7457 19.0207 7.0582 18.5165 6.59987C18.2874 6.41654 17.9665 6.59987 17.9665 6.87487Z" fill="white"/>\n\t\t\t</g>\n\t\t\t</g>\n\t\t\t<defs>\n\t\t\t<filter id="filter0_d_19222_33518" x="-1.3418" y="-1.3418" width="24.6836" height="24.6836" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n\t\t\t<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n\t\t\t<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n\t\t\t<feOffset/>\n\t\t\t<feGaussianBlur stdDeviation="2"/>\n\t\t\t<feComposite in2="hardAlpha" operator="out"/>\n\t\t\t<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n\t\t\t<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_19222_33518"/>\n\t\t\t<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_19222_33518" result="shape"/>\n\t\t\t</filter>\n\t\t\t<clipPath id="clip0_19222_33518">\n\t\t\t<rect width="22" height="22" fill="white"/>\n\t\t\t</clipPath>\n\t\t\t</defs>\n\t\t</svg>\n\t\t',cw:'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="tt-cw">\n\t<rect x="1.53711" y="1.39551" width="8.99951" height="8.99951" fill="white"/>\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M3.32765 2.73501e-06C2.8905 -0.000558075 2.45754 0.0851314 2.05355 0.252163C1.64957 0.419194 1.28251 0.664286 0.973399 0.973399C0.664286 1.28251 0.419194 1.64957 0.252163 2.05355C0.0851314 2.45754 -0.000558075 2.8905 2.73501e-06 3.32765V8.67235C2.73501e-06 9.5549 0.350594 10.4013 0.97465 11.0254C1.59871 11.6494 2.44511 12 3.32765 12H8.67235C9.55409 11.9998 10.3997 11.6497 11.0236 11.0266C11.6475 10.4035 11.9986 9.55835 12 8.67661V3.32765C11.9989 2.44658 11.6484 1.60192 11.0254 0.978908C10.4023 0.355895 9.55768 0.00539091 8.67661 0.00426349L3.32765 2.73501e-06ZM6 10C6.79698 9.99949 7.57568 9.76122 8.23648 9.31568C8.89728 8.87014 9.41013 8.23758 9.70942 7.49894H7.8202C7.4845 7.90174 7.03062 8.18877 6.5228 8.31938C6.01498 8.45 5.47894 8.4176 4.99055 8.22676C4.50216 8.03592 4.08616 7.69631 3.80143 7.256C3.51669 6.81569 3.37766 6.29698 3.40399 5.77329C3.43032 5.2496 3.62069 4.74746 3.94816 4.33793C4.27562 3.92841 4.72359 3.63224 5.22866 3.49136C5.73373 3.35047 6.27032 3.372 6.76248 3.55291C7.25464 3.73381 7.67743 4.06491 7.97103 4.49936H9.70942C9.43743 3.82626 8.98741 3.23985 8.4076 2.80297C7.82778 2.36609 7.14002 2.0952 6.41801 2.01935C5.696 1.94349 4.96696 2.06552 4.30901 2.37235C3.65106 2.67919 3.08899 3.15927 2.68305 3.76115C2.2771 4.36303 2.04257 5.06402 2.0046 5.78901C1.96662 6.514 2.12662 7.23565 2.46746 7.87665C2.8083 8.51765 3.31713 9.05383 3.93942 9.42773C4.56172 9.80163 5.27402 9.99916 6 9.99915V10Z" fill="black"/>\n\t</svg>\n\t'}},986:(t,e,i)=>{function s(){return(new Date).getTime()}function n(t,e){return 2==e&&(e=1),"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"}function o(t,e="10%",i="50%"){var s=document.createElement("div");s.className="toast",s.style.cssText=`left:${i};top:${e}`,s.innerHTML=t,document.body.appendChild(s),setTimeout((()=>{document.querySelector(".toast").remove()}),1500)}function r(t,e=20){var i=document.createElement("div");i.className="loader",i.style.cssText=`display: inline-block;width:${e}px;height:${e}px`,t.appendChild(i)}function a(t,e,i){let s=new Image;s.src=t,s.onload=function(){let t=document.createElement("canvas"),n=t.getContext("2d"),o=s.width,r=s.height,a="";o<r&&(e.style.backgroundSize="auto 100%");const l=1200,d=1200;let c=o,p=r;(o>l||r>d)&&(o/r>1?(c=l,p=Math.round(l*(r/o))):(p=d,c=Math.round(d*(o/r)))),t.width=c,t.height=p,n.drawImage(s,0,0,c,p),a=t.toDataURL("image/jpg",.8),e.style.backgroundImage=`url(${a})`,i(a)}}function l(){return window.innerWidth}function d(t,e){const i=[...t];if(i.length<=e){const t=i.map((t=>{var e=p(t);return e.id=t,e}));return Promise.all(t)}const s=i.splice(0,e).map((t=>{var e=p(t);return e.url=t,e}));i.reduce(((t,e)=>t.then((()=>Promise.race(s))).then((t=>{let i=s.findIndex((e=>e.url==t));s.splice(i,1);var n=p(e);n.url=e,s.push(n)}))),Promise.resolve()).then((()=>Promise.all(s)))}function c(t){let e={},i=parseInt(Date.parse(new Date)/1e3);return e.v=md5("OLQ17a39ocWbAhhEq9E5RYZ08DEMACoZ"+t.shop_id+i),e.t=i,e}function p(t){return new Promise(((e,i)=>{var s=new Image;s.url=t,s.onerror=()=>{i()},s.onload=()=>{e(s)},s.src=t}))}function u(t){var e=null;return null!=window.createObjectURL?e=window.createObjectURL(t):null!=window.URL?e=window.URL.createObjectURL(t):null!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e}function v(t,e,i,s){s.observer=new MutationObserver(i),s.observer.observe(t,e)}function g(t,e="smooth"){t.scrollIntoView({behavior:e,block:"start"})}function A(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,i=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return e?"android":i?"ios":void 0}function w(t,e){let i;return i=e?e.querySelector(t):document.querySelector(t),i}function h(t,e){let i;return i=e?e.querySelectorAll(t):document.querySelectorAll(t),i}function m(){let t=navigator.userAgent,e=/(?:Android)/.test(t),i=/(?:Firefox)/.test(t),s=/(?:iPad|PlayBook)/.test(t)||e&&!/(?:Mobile)/.test(t)||i&&/(?:Tablet)/.test(t),n=/(?:iPhone)/.test(t)&&!s;return e||n}function f(t,e){var i=null;return function(...s){i&&clearTimeout(i),i=setTimeout((()=>{t(...s)}),e)}}function _(t){var e=document.createRange();window.getSelection().removeAllRanges(),e.selectNode(t),window.getSelection().addRange(e),document.execCommand("copy")&&o("Copy successfully"),window.getSelection().removeAllRanges()}function y(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}function b(t,e,i){if("set"!==t)return JSON.parse(sessionStorage.getItem(e));try{sessionStorage.setItem(e,JSON.stringify(i))}catch(t){}}function $(t,e,i){if("set"!==t)return JSON.parse(localStorage.getItem(e));localStorage.setItem(e,JSON.stringify(i))}function x(t){fetch("https://www.cloudflare.com/cdn-cgi/trace").then((t=>t.text())).then((e=>{e=e.split("\n"),t.ip=e[2].split("=")[1],t.loc=e[9].split("=")[1]}))}function C(t){let e=t.lastIndexOf("."),i="";return-1!=e&&(i=t.substring(e)),function(t){t=t||32;for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=e.length,s="",n=0;n<t;n++)s+=e.charAt(Math.floor(Math.random()*i));return s}(10)+i}function R(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}i.r(e),i.d(e,{$dqs:()=>w,$dqsa:()=>h,dealImage:()=>a,debounce:()=>f,getMobileSystem:()=>A,getObjectURL:()=>u,getSign:()=>c,getTimeStamp:()=>s,getWindowWidth:()=>l,get_suffix:()=>C,gsLocal:()=>$,gsSession:()=>b,hexToRgba:()=>n,imgLoad:()=>p,imgLoadLimit:()=>d,isMobile:()=>m,isWebPSupported:()=>R,returnCitySN:()=>x,scrollTo:()=>g,setCopy:()=>_,setDelay:()=>y,setLoading:()=>r,setObserve:()=>v,setToast:()=>o})},571:(t,e,i)=>{i.d(e,{A:()=>s});const s={source:"reviews",wrapWid:0,isNullRev:!1,proTarget:null,collTarget:[],themeStyle:"",ip:"",isFirstExecute:!1,isCollPage:!1,isProPage:!1,isHomePage:!1,isCartPage:!1,isSettingUpdate:!1,isProRatingUpdate:!1,isReviewsUpdate:!1,isWebPSupported:!0,revIdBase:"vstar-",isRecordPV:!1,isRecordCart:!1,cartWatcher:null,RevIntersection:null,isCollOpen:!1,isProOpen:!1,isRevOpen:!1,isFirstPageRender:!0,buyersShowType:2,isInsertBS:!1,isMixReview:!1,page:0,isWdoRevFirstPageRendered:!1,reviewsList:[],pageRecord:[],reviewsBody:null,reviewsDom:null,revReqParam:"",productHandle:"",userSetting:{},showType:1,layoutClass:"",layoutReviewCount:0,reviewsWidth:0,reviewsRow:5,uploadedCount:0,uploadedIndex:0,gridCardWidth:0,wdoGridCardWidth:0,listDisIndex:0,listNodeCount:0,viewer:null,origImg:[],thumbImg:[],likeRevLock:!1,lang:{},column:0,minHeight:0,reviews:{columnHighs:[],preColHighs:[],cardWid:0,cardCount:0,ratingFilter:0},bsInsertSelector:null,isInsertRev:!1,isCssLoaded:!1,globalStyle:null,reqErr:null,isProHasHalfStar:!1,pageCount:0,ratingData:{},allRatingData:{},searchACount:6,collTarInx:0,isOtherTheme:!1,isCollFinished:!1,observer:null,iObserver:null,curCollArr:[],isHomeRatingOpen:!1,allRevLoadLock:!1,mediaUrl:[],isSendLock:!1,ratingVal:0,uploadImgInfo:{},uploadType:1,newRevCharLimit:2e3,isLoginWrite:!1,wdoRev:{columnHighs:[],preColHighs:[],cardWid:0,cardCount:0,ratingFilter:0},isActWdoRev:!1,isWdoRevOpen:!1,isWdoRevExist:!1,wdoRevDom:!1,wdoRevBody:null,isLinkReqRev:!1,writeForm:0,hasPyRating:!1,showRelatedPros:!1,revDetailInfo:{page:0,no:0,imageIndex:0},isQAInserted:!1,qsPageNum:0}},429:(t,e,i)=>{i.d(e,{DF:()=>g,M0:()=>w,WF:()=>A,nq:()=>u});var s=i(957),n=i(571),o=i(134);const{$dqs:r,debounce:a,setObserve:l,$dqsa:d}=i(986),{setInsertTarget:c,starEmbeddedAdaptation:p}=i(638);function u(){const t=n.A.curCollArr;let e=[],i='a[href*="/products/"]';if(-1===t.findIndex((t=>"A"!==t.tagName)))return t;if(-1===t.findIndex((t=>null===r(i,t))))return t.map((t=>r(i,t)));let s,o=t[0],a=[];for(let n=0;n<t.length;n++){let l=t[n];o=t[n],s=null;for(let t=0;t<5;t++){if(o=o.parentNode,"A"===o.tagName&&o.href&&-1!==o.href.indexOf("/products/")){s=o;break}let t=r(i,o);if(t){s=t;break}}s&&(e.push(s),a.push(l))}return n.A.curCollArr=a,e}const v=a((()=>{n.A.observer.disconnect(),g();let{collTarget:t}=Review;const e=Array.from(t).map((t=>t.textContent.replace(/\n/g,"").trim())).join();w(),t=Review.collTarget;const i=Array.from(t).map((t=>t.textContent.replace(/\n/g,"").trim())).join(),s=d(".collection-icon-list").length;(0!==s&&s===t.length||0===s&&2===n.A.userSetting.is_show_stars_without_review)&&e===i?g():(Review.observeCount++,c(2),Review.collectionTarget=t)}),400);function g(){let t=r("main");!t&&(t=document.body);l(t,{childList:!0,subtree:!0},(function(){v()}),n.A)}function A(t){let e="";if(t.length){let i="A",s=[];for(let e=0;e<t.length;e++)if(t[e]&&t[e].tagName===i&&t[e].getAttribute("href")){let i=t[e].getAttribute("href"),n=i.lastIndexOf("/products/")+10,o=i.indexOf("?"),r="";r=-1!=o?i.substring(n,o):i.substring(n),-1===r.indexOf(".jpg")&&s.push(r)}else s.push("undefined");e=s.join(",")}return e=e.replace(/[#]/g,""),e}async function w(){let t=[],{theme_store_id:e,isProPage:i,isOtherTheme:a}=n.A,l=!0;if((n.A.hasPyRating||n.A.hasEcomRt)&&(o.A.customCollTarSel=".pagefly-star-rating-sealapp,.custom-vstar-rating-widget,.ecom-star-rating-sealapp"),o.A.customCollTarSel&&(t=d(o.A.customCollTarSel)),!t.length)switch(e){case 679:t=d("a.product-grid-item>p");break;case 730:t=d(".grid-product__title");break;case 775:t=d(".product-card__name");break;case 766:t=d(".product-item__title");break;case 887:case 1356:case 1363:case 1368:case 1567:t=d(".h5>.full-unstyled-link"),0===t.length&&(t=d(".card-information__text")),l=!1;break;case 829:t=d(".card__name,.spf-product-card__title");break;case 578:t=d(".product__title a");break;case 796:t=d(".product-card__title");break;case 380:var c=d(".grid-link__container .grid__item");t=[],c.forEach((e=>{t.push(e.querySelector(".grid-link__title"))}));break;case 885:if(a=!0,t=d(".product-card__title-wrapper"),i){let t=r(".shopify-section .product");t&&(wrapWid=t.offsetWidth)}break;default:if(Review.theme&&"warehouse"===Review.theme.name){const t=r(".product-item__price-list.price-list");t&&"-15px"===getComputedStyle(t).marginTop&&(n.A.globalStyle.textContent+="div.collection-icon-list.vstar-star {\n            margin-bottom: 20px;\n            }")}a=!0,t=h()}if(a||0===t.length&&l&&(t=h()),n.A.isCollPage&&0===t.length&&r('a[href*="/products"]')&&await s.zG.sendErrorMsg(2,`集合页评价嵌入失败，店铺地址为：${window.location.href}`).then((e=>{if(e[1]){const i=p(4,e[1].selector);i&&(t=d(i))}})),0!==t.length&&(t=Array.from(t),i)){const e=Review.proTarget;e&&(t=t.filter((t=>t!==e&&!e.contains(t))))}Review.collTarget=t}function h(){let t=[];const{isCollPage:e,isProPage:i,isHomePage:s,hasPyRating:r}=n.A;if(e||i||s||o.A.otherPageColl||r){let e;return o.A.customCollTarSel&&(e=o.A.customCollTarSel,t=d(o.A.customCollTarSel)),0===t.length&&(e=".product-details>span.title,.apb_product_list_product_item_title,.grid_title,.collection__grid-item__details,\n      .popup_cart_title>a,h3.product-title,a.ga-product_title,h4.title-product,.grid-item .inner-top>.product-bottom>a.product-title,\n      .product__grid__title,.pt-title.prod-thumb-title-color,.product-item-meta__title,.product-grid-item__title,.product-item-title",t=d(e),Review.collType="type1"),0===t.length&&(e=".product-bottom>.product-title,.product-details>.product-title,.product-item__details a,.info .title,.product-name>a,\n  .collectionBlock__title>a,.product-grid-item>p,.innerer>.title,.grid__product-content>a,.ht-product-title>a,.h5>.full-unstyled-link,\n  .product .card-title,.list_prod .title-product,.product.slick-slide .card-title,.product-title-price,.prd-title,.product-info>h3.title14,\n  .list-view-item__title-column>a,.gt_product-name>h2,.block.text-base,.tt-description>h2.tt-title,.desc>h5,.product-item__title",t=d(e),Review.collType="type2"),0===t.length&&(e=".ftr,.product-grid-desc>h3,.gt_product-name,p.list-product__title,.product--details-container,.product--item-title,.h4.grid-view-item__title,\n  .product-grid-item__product-name,h3.card__name.h4,.grid-crop-title,.title-wrap,h3>span.overflowed,.product-grid--title>a,a.gf_product-title,.bls__product-details a,\n  a>.indiv-product-title-text,h2.product_name,.sf__pcard-content .max-w-full,h2.product-card__title,.proName>a,a.item__name.pg__sync-url,.spf-product-card__title",t=d(e),Review.collType="type3"),0===t.length&&(e=".grid-product__title,.product-block__title,\n  .grid-view-item__title,.product-card__name,.ProductItem__Title,.product-info>a>h2,\n  .card-information__text,span.indiv-product-title-text,.card__title:not(.heading),h4.product_name,\n  .productitem--title,.grid-link__title,.boost-pfs-filter-product-item-title,.product-collection__title,\n  .col_product_text_color,.js-product-details-link,.t4s-product-title,.ws-card__title,.product-thumbnail__info>.product-thumbnail__header",t=d(e),Review.collType="type4"),0===t.length&&(e='.card__heading[id^="title-template"],.lh-product-title',t=d(e),Review.collType="type5"),Review.coll_dqsa="$dqsa(`"+e+"`)",t}}},877:(t,e,i)=>{i.d(e,{N:()=>s});class s{init(){return this.emitCartChanges().then((()=>{this.observeCartChanges()}))}async fetchCart(){return(await fetch("/cart.js")).json()}storeCartToken(t){try{sessionStorage.setItem("ttCartToken",t)}catch(t){}}storedCartToken(){return sessionStorage.getItem("ttCartToken")||""}async emitCartChanges(){const t=await this.fetchCart(),e=new CustomEvent("cart_changed",{detail:{token:t.token}});window.dispatchEvent(e),this.storeCartToken(t.token)}observeCartChanges(){new PerformanceObserver((t=>{t.getEntries().forEach((t=>{const e=["xmlhttprequest","fetch"].includes(t.initiatorType),i=/\/cart\//.test(t.name);e&&i&&this.emitCartChanges()}))})).observe({entryTypes:["resource"]})}}},638:(t,e,i)=>{i.r(e),i.d(e,{getHomeProTitle:()=>b,getTotalRating:()=>h,getTotalStarString:()=>y,insertReviewControl:()=>m,insertReviewDetail:()=>f,processRecordedData:()=>_,setInsertTarget:()=>A,starEmbeddedAdaptation:()=>$});var s=i(957),n=i(154),o=i(336),r=i(986),a=i(429),l=i(778),d=i(571),c=i(134),p=i(163),u=i(357),v=i(45),g=i(877);async function A(t){let e,i;if(1==t){if(!(0,r.$dqs)("#seal-star-rating-widget")){if(await(0,l.rU)(),!Review.proTarget)return;d.A.globalStyle.textContent+=`\n\t\t\t.product-icon-list>.tt-rating-text{\n          color: ${window.getComputedStyle(Review.proTarget).color} !important;\n        }`,w()}}else if(2==t){if(0===Review.collTarget.length)return;if(d.A.curCollArr=Review.collTarget.filter((t=>{if(!t.getAttribute("is-vstar-inserted"))return!0})),d.A.curCollArr.length>50?(d.A.isCollFinished=!1,d.A.curCollArr=d.A.curCollArr.slice(0,50)):d.A.isCollFinished=!0,d.A.hasPyRating||d.A.hasEcomRt)i=d.A.curCollArr.map((t=>t.getAttribute("product-id"))).join(",");else{let t=(0,a.nq)();e=(0,a.WF)(t)}}if(1!==t&&(e||i)){let[t,n]=await s.zG.getCollRating(e,i);null===t&&async function(t){const e=d.A.curCollArr,{userSetting:i,isProPage:s,hasPyRating:n,hasEcomRt:o}=d.A,{isCollRevWord:l}=c.A;const p=e.length;if(p){let v=0,g="afterEnd";(n||o)&&(g="afterbegin"),55363502159===d.A.shop_id&&t.forEach((t=>t.total_reviews+=100));for(var u=0;u<p;u++){let s=t[v];v++;let n="";const o=e[u];o.setAttribute("is-vstar-inserted",!0);const a=window.getComputedStyle(o);let p=a.textAlign,A="";const w=a.direction;"center"===p?n="center":"right"===p&&"rtl"!==w?n="right":o.classList.remove("center");const h=o.parentNode;if(!o||-1===s.rating||(0,r.$dqs)(".collection-icon-list,.seal-stars",h)||(0,r.$dqs)("#seal-star-rating-widget",h))continue;const m=parseFloat(s.rating).toFixed(c.A.bigRatingDigits-1);if(2===i.is_show_list_stars_without_review&&0==m);else{let t=a.color;d.A.hasPyRating&&(t="inherit",A="opacity: 1;");let e="";const i=d.A.userSetting.collection_pages_display_content;l?e=s.total_reviews+" "+d.A.lang.reviews:1===i?e=`(${s.total_reviews})`:2===i&&(e=`(${m})`),o.style.margin=0;const r=`<div class="collection-icon-list vstar-star ${n}" rating="${m}">\n          ${y(parseFloat(m),16,3,!0)}<div class='collection-reviews-num' style="color:${t};${A}" >${e}</div></div>`;o.insertAdjacentHTML(g,r)}}if(document.dispatchEvent(new CustomEvent("onTTListRatingEmbed",{detail:{v:d.A},bubbles:!0,cancelable:!0})),(n||o)&&s){const t=shopifyObj.productId,e=(0,r.$dqsa)(`.custom-vstar-rating-widget[product-id="${t}"]`);0!==e.length&&d.A.reviewsDom&&e.forEach((t=>{t.style.cursor="pointer",t.onclick=()=>(0,r.scrollTo)(d.A.reviewsDom)}))}s&&!n||(d.A.isCollFinished?setTimeout((()=>{(0,a.DF)()}),1e3):A(2))}}(n)}}function w(){let{proTarget:t}=Review;const{ratingData:e,userSetting:i,lang:s,shop_id:n}=d.A,{isShowRevClick:o}=c.A;if(!(0,r.$dqs)(".product-icon-list",t.parentNode))if(2===i.is_show_stars_without_review&&0==e.rating);else{let i="afterEnd",a="",u="",v=window.getComputedStyle(t).textAlign;55363502159===n&&(e.total_reviews+=100);const g=(0,r.$dqs)(".pagefly-star-rating-sealapp,.custom-vstar-rating-widget"),A=window.getComputedStyle(t.parentNode);g?(t=g,i="afterbegin"):"flex"===A.display&&"column"!==A.flexDirection&&"wrap"!==A.flexWrap&&(t=t.parentNode),"center"===v?a="center":"right"===v&&(a="right"),d.A.isCssLoaded?d.A.isProHasHalfStar&&(u+="display:none;",setTimeout((()=>{(0,r.$dqs)(".product-icon-list.vstar-star").style.display="block"}),300)):u+="display:none;",c.A.customRatingText&&(s.product_pages_reviews=c.A.customRatingText);let w=s.product_pages_reviews.replace(/{{review_number}}/g,e.total_reviews).replace(/{{review_rating}}/g,e.rating).trim();const h=w.indexOf("{{star}}");let m="",f="",b="";-1!==h?(0!==h&&(m=`<div class="tt-rating-text" style="margin-left: 0px;">${w.slice(0,h)}</div>`),f=`<div class="tt-rating-text">${w.slice(h+8)}</div>`,b=y(e.rating,20,3,!0)):f=`<div class="tt-rating-text">${w}</div>`;const $=`<div class="product-icon-list vstar-star ${a}" data-product-id="${d.A.productId}" style="${u}">\n\t\t\t${m} ${b}${f}</div>`;t.insertAdjacentHTML(i,$),t.style.marginBottom=0,(0,r.$dqs)(".product-icon-list").onclick=function(t){const{reviewsDom:e,isGrid:i}=d.A;o&&(e.classList.remove("pending"),i&&(0,p.dn)()),_("reviews_click"),t.target.classList.contains("product-icon-list")||((0,l.bl)(),e&&(0,r.scrollTo)(e))};const x=new CustomEvent("onTTDetailRatingEmbed",{detail:{v:d.A},bubbles:!0,cancelable:!0});document.dispatchEvent(x)}}async function h(t={}){let e,i;const{isProRatingOpen:n,isHomeRatingOpen:l,isMixReview:p,isWdoRevOpen:u,isHomePage:v,isProPage:h}=d.A,{proTarget:f}=Review,y=(0,r.$dqs)("#seal-star-rating-widget");(!p&&!u||d.A.productId)&&("undefined"==typeof vstar_product_rating||d.A.isProRatingUpdate?([e,i]=await s.zG.getProductRating(),null===e&&i&&(d.A.ratingData=i)):d.A.ratingData=i=vstar_product_rating),d.A.ratingData&&d.A.ratingData.rating&&(d.A.ratingData.rating=parseFloat(d.A.ratingData.rating).toFixed(c.A.bigRatingDigits-1)),(n||l||d.A.hasPyRating||d.A.hasEcomRt)&&(h&&setTimeout((()=>{(0,r.$dqs)('a[href*="/products/"],.product-recommendations')&&d.A.isOpenRecStars&&((0,a.M0)(),0!==Review.collTarget.length&&A(2),setTimeout((()=>{(0,a.DF)()}),1e3))}),1e3),y||d.A.hasPyRating||d.A.hasEcomRt||(v?f&&w():A(1))),await m(i,t),d.A.isProPage&&((0,r.gsSession)("set","tt_pv_product_id",null),(0,r.gsSession)("set","tt_cart_product_id",null),async function(){d.A.cartWatcher=new g.N,d.A.cartWatcher.changeCount=0,window.addEventListener("cart_changed",(t=>{d.A.cartWatcher.changeCount++,d.A.isRecordPV&&d.A.cartWatcher.changeCount>1&&_("add_to_cart",t.detail.token,!0)})),await d.A.cartWatcher.init(),d.A.reviewsDom&&!d.A.isNullRev&&(0,o.E7)()}())}async function m(t,e){const{isMixReview:i,isNoNullReview:a,isActWdoRev:l,isWdoRevOpen:p}=d.A;let u=!1;if((0,r.$dqs)("#seal-review-widget,.custom-vstar-review-widget")&&(u=!0),d.A.isRevOpen||u){const u=(0,r.$dqsa)("#reviews-wrapper,#noreviews-wrapper");if(0!==u.length&&u.forEach((t=>t.remove())),t&&0!=t.rating||i||l&&p)d.A.isInsertRev=!0,f(),(0,o.Gs)(e);else{if(a||2===d.A.userSetting.review_empty_status_display)return;(0,o.WC)(e.tarNode),"undefined"!=typeof trustooAfterExecute&&trustooAfterExecute(d.A,c.A)}if(!(0,r.$dqs)(".mask.review-mask")){const t=await async function(){let t={show_email:1,require_email:1,show_phone:2,require_phone:2,show_feedback:1,require_feedback:1,review_button_background_color:"#000000",review_button_text_color:"#FFFFFF",thanks_button_background_color:"#000000",thanks_button_text_color:"#FFFFFF"};if("undefined"==typeof vstar_write_review_settings||d.A.isSettingUpdate){const e=await s.zG.getWriteRevSetting();null===e[0]&&(t=e[1])}else t=vstar_write_review_settings;return t}(),e=t.write_review_form;d.A.isLoginWrite=1===t.login_to_left_review,d.A.writeForm=e,1===e?((0,n.yE)(t),(0,n.Cf)(t)):2===e&&(0,v.P9)(t),1===d.A.userSetting.is_qa_active&&1!==e&&((0,n.yE)(t),(0,n.Cf)(t))}}else d.A.isFirstPageRender&&"undefined"!=typeof trustooAfterExecute&&trustooAfterExecute(d.A,c.A)}function f(){"undefined"!=typeof TTRevDetail&&(d.A.isInsertRev||d.A.isInsertBS||d.A.isWdoRevOpen)&&!TTRevDetail.isInserted&&(TTRevDetail.isInserted=!0,TTRevDetail.insertTTReviewDetail(d.A))}function _(t,e="",i){let n="";if(localStorage.getItem("trustoo_uv")?n=localStorage.getItem("trustoo_uv"):(n=d.A.shop_id+"_"+(new Date).getTime(),localStorage.setItem("trustoo_uv",n)),d.A.isProPage&&((0,r.gsSession)("set","tt_pv_product_id",d.A.productId),(0,r.gsSession)("set","tt_cart_product_id",d.A.productId)),!d.A.isRecordPV||i&&!d.A.isRecordCart){d.A.isRecordPV=!0;const o={client_id:n,event_category:t};e?(o.cart_token=e,d.A.isRecordCart=!0):(e=d.A.cartWatcher.storedCartToken(),o.cart_token=e),s.zG.recordInfo(o).then((()=>{i&&(0,r.gsSession)("set","tt_cart_product_id",null)}))}}function y(t,e,i=1,s=!1){const{userSetting:n,isProPage:o}=d.A;let r,a=`style="width:${e}px;height:${e}px"`,l="";3===i&&(l=n.star_color,r=n.nostar_color);const c=1===i?'<i class="trustoo-icon-star"></i>':u.A.star(e,l),p=1===i?'<i class="trustoo-icon-nostar"></i>':u.A.star(e,r),v=`<div class="star-item">${c}</div>`,g=`<div class="star-item nostar">${p}</div>`;parseInt(t)||(t=0);for(var A="",w=Math.floor(t),h=0;h<w;h++)A+=v;if(w<t&&s){o&&(d.A.isProHasHalfStar=!0);let e=(100*(t-w)).toFixed(2)+"%";w++,A+=`<div class="star-item half-star" ${a}>\n    <div class="item-nostar">\n      ${p}\n    </div>\n    <div class="item-star" style="width:${e}">\n      ${c}\n    </div>\n  </div> `}for(h=0;h<5-w;h++)A+=g;return A}function b(t){return encodeURIComponent(t)}function $(t,e){for(let i=0;i<e.length;i++){let n=e[i];if(0!==(0,r.$dqsa)(n).length){let e=n.split(",");do{const t=e.length;let i=e.slice(0,Math.ceil(t/2));e=0!==(0,r.$dqsa)(i.join(",")).length?i:e.slice(t-parseInt(t/2))}while(1!==e.length);return s.zG.sendErrorMsg(t,e[0]),e[0]}}}},778:(t,e,i)=>{i.d(e,{B4:()=>c,bl:()=>d,rU:()=>l});var s=i(571),n=i(957),o=i(986),r=i(134),a=i(638);async function l(){const{isProPage:t,isHomePage:e}=s.A,{customProTarSel:i}=r.A;let l;l=function(){let t={},e=Review.theme.theme_store_id;var i=".product-single__title",s=".product__title",n='.grid-item>h1.h2[itemprop="name"]',o='.grid__item>h1.h2[itemprop="name"]';let r,a=[i,s,n,o].join(",");switch(e){case 730:case 578:case 775:case 796:case 380:r=i;break;case 887:case 829:case 1356:case 1363:case 1368:r=s;break;case 679:r=n;break;case 766:r=o;break;default:t.isAll=!0,r=a}t.main=r,t.mainAll=a;var l=".product__title .product__title--template",d=".ProductMeta__Title",c=".product_title",p=".tt-product-single-info .tt-title",u=".product-block-list__item .product-meta__title",v=".product-meta>.product-meta__title",g=".product-title",A=".gt_atom-cZGCOCvfkBpcRgQ_productTitle",w=".pr_title",h=".prd-block_title",m=".product-detail__title",f=".productInfo h1",_=".product_name",y=".product-name",b=".product-description-header",$=".layout-column-half-right>.title",x=".product-page-info__title>h1",C="h1.gt_heading",R="#popup_cart_title",q=".apb_product_detail_information_title",S=".product-area__details__title",k=".product-info>h3.title30",T=".gt_product-content>h2",L=".prod__title",E=".productInfo>h2",P=".product__section-title>h1",I=".page-header h1.title",M=".title-detail",O=".title>h1",D=".title-row>h1.title",N="h2.product-page--heading",B=".section-header__title.product-titre",H=".block.type-title",W="h2.product-details-product-title",j="h1.product-info__title",F=".product-detail-part>h2[itemprop='name']",z="h2.single_product__title",U="#product-description h1.h2",G="h1.product-item-caption-title.-product-page",V="h1.product-title",Z="h2[data-attribute='productTitle']",J=".productView-title",Q="h1.product__section-title",Y="h1.product-single__title-text",X='h1[itemprop="name"]',K=".proBoxInfo>h1",tt=".product-header",et="h1.title-primary",it="[data-product-description-container]>h2.h1",st=".uppercase",nt=".col-md-12>.title-sale",ot=".shg-product-title-component",rt=".t4s-product__title",at=".bls__product-title";let lt=[];lt.push(l,d,c,p,u,g,A,w,h,f,_,b,$,x,C,R,q,S,k,T,m,L,v,E,y,P);let dt=[I,M,O,D,N,B,H,W,j,F,z,U,G,V,Z,J].join(","),ct=[Q,Y,X,K,tt,et,it,st,nt,ot,rt,at].join(","),pt=lt.join(",");return t.other1=dt,t.other2=pt,t.other3=ct,t}();let d,c=[],p=!1;const u=(0,o.$dqsa)(".custom-vstar-rating-widget");0!==u.length&&(c=u,p=!0),i&&!p&&(d=(0,o.$dqs)(i),d&&(p=!0,Review.proType="custom",Review.proSel=i,Review.proTarget=d),e&&d)||(p||(c=(0,o.$dqsa)(l.main),0!==c.length||l.isAll||(c=(0,o.$dqsa)(l.mainAll)),0!==c.length&&(p=!0),Review.proType="main",Review.proSel=l.main),p||(c=(0,o.$dqsa)(l.other1),Review.proType="other1",Review.proSel="`"+l.other1+"`",0===c.length&&(c=(0,o.$dqsa)(l.other2),Review.proType="other2",Review.proSel="`"+l.other2+"`"),0===c.length&&(c=(0,o.$dqsa)(l.other3),Review.proType="other3",Review.proSel="`"+l.other3+"`")),2===c.length?d=Array.from(c).find((t=>null!==t.offsetParent)):0!==c.length&&(d=c[0]),d||t&&await n.zG.sendErrorMsg(3,`产品页评价嵌入失败，店铺地址为：${window.location.href}`).then((t=>{if(t[1]){const e=(0,a.starEmbeddedAdaptation)(5,t[1].selector);e&&(Review.proSel=e,d=(0,o.$dqs)(e))}})),d&&(Review.proTarget=d))}function d(){const t=s.A.shop_id;if(1===r.A.get_move_review_info.is_tab_review&&!s.A.isWdoRevOpen)if(61646700724===t&&129829568692===s.A.themeId){activeCls="t4s-active";let t=(0,o.$dqs)(`.panel.sp-tab.${activeCls},.t4s-tab-wrapper>.t4s-tab-content.${activeCls}`);t?t.classList.remove(activeCls):t=(0,o.$dqs)(".t4s-tab-wrapper:nth-child(2)>.t4s-tab-content");const e=(0,o.$dqs)("#tab_pr_reivew,.t4s-tab-wrapper:nth-child(4)>.t4s-tab-content");e.classList.add(activeCls),s.A.isMobile?((0,o.$dqs)(".sp-tab-content",t).style.display="none",(0,o.$dqs)("#tab_pr_reivew .sp-tab-content").style.cssText=""):((0,o.$dqs)(".tab_title_block.active,.t4s-d-inline-flex>a.t4s-active").classList.remove(activeCls),(0,o.$dqsa)(".tab_title_block,.t4s-tab-wrapper")[1].classList.add(activeCls),t.style.display="none",e.style.display="block")}else if(67745513752===t&&137959506200===s.A.themeId){const t=(0,o.$dqs)('[data-id="1670265256519"] .module'),e=(0,o.$dqs)("[data-control].opend",t);null!==e&&(e.classList.remove("opend"),e.nextElementSibling.style.display="none");const i=(0,o.$dqs)('[data-control][data-index="5"]',t);null!==i&&(i&&i.classList.add("opend"),i.nextElementSibling.style.display="block")}else if(69381783840===t&&144923328800===s.A.themeId){const t=(0,o.$dqsa)(".product-simple-tab .tab-pane"),e=(0,o.$dqsa)(".nav-item .nav-link");t[0].className="tab-pane",t[2].className="tab-pane active show",e[0].className="nav-link",e[1].className="nav-link active show"}}function c(){if(s.A.isProPage){const t=(0,o.$dqs)(`.pagefly-star-rating-sealapp[product-id="${s.A.productId}"]`);t&&(t.style.cursor="pointer",t.onclick=function(){s.A.reviewsDom&&(0,o.scrollTo)(s.A.reviewsDom)})}}},154:(t,e,i)=>{i.d(e,{Cf:()=>y,Do:()=>b,PT:()=>u,yE:()=>v});var s=i(571),n=i(957),o=i(638),r=i(986),a=i(336),l=i(357);let d=null,c=null,p=0;const u=(0,r.debounce)(_,500);async function v(t){let e="",i="";const{lang:n,productImages:a,productName:p,isNoUploadImg:v}=s.A;let A=1===s.A.userSetting.is_del_powered,h="";"undefined"!=typeof Review&&["ar","he"].includes(Review.lang)&&(h=" trustoo-rtl"),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&s.A.isMobile&&window.innerHeight<667&&(s.A.globalStyle.textContent+="#trustoo-allinone>.tt-write-content {\n\t\t\tpadding-bottom: 100px;\n\t}"),s.A.globalStyle.textContent+=`\n\t#trustoo-allinone,#success-window{\n\t\t--button-bd-color: ${t.review_button_background_color};\n\t\t--button-text-color: ${t.review_button_text_color};\n\t}\n    #trustoo-allinone .form-submit[disabled]{background-color:${(0,r.hexToRgba)(t.review_button_background_color,.3)} !important}\n  `;const y=function(t,e){let i,s,n=`\n    <div class="name-area inline">\n\t\t<div class="tt-input-title">${e.name}</div>\n      <input type="text" maxLength="50"  input-type="author" class="small-input user-input require" ">\n    </div>\n    <div class="error-tip name-tip"></div>`;return i=1===t.require_email?"require":"",s=1===t.show_email?"":"hidden",n+=`<div class="email-area inline" ${s}>\n\t<div class="tt-input-title">${e.email}</div>\n    <input type="text" input-type="author_email" class="small-input user-input ${i}">\n    </div><div class="error-tip email-tip" ${s}></div>`,i=1===t.require_phone?"require":"",s=1===t.show_phone?"":"hidden",n+=`<div class="phone-area inline" ${s}>\n\t<div class="tt-input-title">${e.phone}</div>\n    <input type="text" input-type="author_phone" class="small-input user-input ${i}">\n    </div><div class="error-tip phone-tip" ${s}></div>`,n}(t,n);e='<div class="window-close tt-write_review_close">\n        </div>';const $=t.discount_setting;if(1==$.discount_for_photo_reviews&&(1===$.discount_for_reviews_form||2===$.discount_for_reviews_form&&"undefined"!=typeof isEmailWrite)){const t=s.A.lang.all_in_one_from.discount_setting;for(let e in t)t[e]=t[e].replace("{{Discount_amount}}",$.discount_value);let e="";1===$.discount_incentive_conditions?e=t.tip_3:2===$.discount_incentive_conditions&&(e=t.tip_1),i=`<div class="discount-tip">${e}</div>`}let x=`\n  <div class="window-head">\n    <div class="window-close tt-write_review_close">\n        </div>\n    <span class="head-title">${n.all_in_one_from.write_reviews}</span>\n  </div>`,C="";a&&(C=`<div class="product-image" style="background-image:url('${a}')"></div>`);let R=`<div class="tt-write-rating">\n\t<div class="tt-rating-title">${s.A.lang.you_rating}</div>\n\t<div class="vstar-star">\n\t${(0,o.getTotalStarString)(0,24,3)} \n\t</div>\n\n  </div>`,q="",S="";1===t.write_review_form&&(S=1===t.enabled_add_video?` \n    <div class="upload-or">${n.all_in_one_from.or}</div>\n      <div class="tt-uploader tt-video-uploader" style="display : ${v?"none":"flex"}">\n          <input type="file" class="upload-input" tabindex="-1"\n          accept=".mp4,.mkv,.mov,.avi,.flv,.ts,.ps,.mxf,.lxf,.gxf,.3gp,.webm,.mpg,.quicktime">\n          <span class="tt-upload_image"></span>\n          <span class="upload-image-text">${n.all_in_one_from.add_video}</span>\n          <span class="images-num">0/1</span>\n    </div>\n  `:"",q=` <div class="upload-area">\n\t\t\t\t<div class="tt-uploader tt-image-uploader" style="display : ${v?"none":"flex"}">\n\t\t\t\t\t\t<input type="file" multiple class="upload-input"\n\t\t\t\t\t\ttabindex="-1" accept=".gif,.jpeg,.jpg,.png">\n\t\t\t\t\t\t<span class="tt-upload_image"></span>\n\t\t\t\t\t\t<span class="upload-image-text">${n.add_photo}</span>\n\t\t\t\t\t\t<span class="images-num">0/5</span>\n\t\t\t\t</div>\n\t\t\t\t${S}\n\t\t\t</div>`);const k=1===t.require_feedback?"require":"",T=1===t.show_feedback?"":"hidden";let L=`<form action="" class="review-message">\n\t${`<div class="feedback-area inline" ${T}>\n\t<div class="tt-input-title">${n.all_in_one_from.review}</div>\n\t<textarea input-type="content" maxLength="${s.A.newRevCharLimit}"  class="big-input user-input ${k}" ></textarea>\n\t<div class="feedback-count"><span>0/${s.A.newRevCharLimit}</span></div>\n\t</div><div class="error-tip feedback-tip" ${T}></div>`}\n\t${q}\n    ${y}\n\n\t\t${i}\n    <button disabled class="form-submit" type="button">${n.submit}</button>\n  </form>`,E=`<div class="window-product">${C}<div class="product-right"></div></div>`,P="";A||(P=`<div class="trustoo-power"> Powered by <a class="redirect" href="https://www.trustoo.io/" target="_blank">Trustoo.io</a><span class="line"></span><a class="tt-power-cw" href="https://www.channelwill.com/" target="_blank">${l.A.cw}</a></div>`);let I=`<div id="trustoo-allinone" class="trustoo-widget ${h} trustoo-write-review" >\n  <div class="tt-write-content"> ${x+E+R+L+P}</div></div>`;if((0,r.$dqs)("#trustoo-mask").insertAdjacentHTML("beforeEnd",I),c=(0,r.$dqs)("#trustoo-allinone"),d=(0,r.$dqs)(".tt-image-uploader",c),1===t.show_feedback&&((0,r.$dqs)("textarea",c).style.fontFamily=window.getComputedStyle((0,r.$dqs)("input",c)).fontFamily),p){let t=(0,r.$dqs)(".product-right");p.length>100?t.innerHTML=p.substring(0,100)+"...":t.innerHTML=p}!function(t){t.addEventListener("touchmove",(t=>{t.stopPropagation()}),!1),(0,r.$dqs)(".window-close",t).onclick=function(){m(),s.A.isMobile&&window.history.replaceState({},document.title,window.location.href.replace("#tt-write-reviews-open","")),b()},s.A.productImages&&(0,r.imgLoad)(s.A.productImages).then((e=>{const i=e.width,s=e.height,n=(0,r.$dqs)(".product-image",t);n.style.backgroundSize=i>=s?"auto 100%":"100% auto"}));let e=(0,r.$dqsa)(".star-item",t);f(s.A.ratingVal);for(let t=1;t<=e.length;t++)e[t-1].index=t,s.A.isMobile?e[t-1].onclick=function(){s.A.ratingVal=this.index,f(this.index),_()}:(e[t-1].onmouseover=function(){f(this.index)},e[t-1].onclick=function(){s.A.ratingVal=this.index,_()});s.A.isMobile||((0,r.$dqs)(".tt-write-rating .vstar-star",t).onmouseleave=function(){f(0)});let i=(0,r.$dqsa)(".user-input",t);const n=s.A.lang;if(s.A.isMobile){let e=(0,r.getMobileSystem)(),i=window.getComputedStyle(t).getPropertyValue("height"),s=function(){"android"==e&&((0,r.$dqs)("#trustoo-allinone").style.overflow="hidden");let s=setInterval((()=>{window.getComputedStyle(t).getPropertyValue("height")!=i&&("android"==e&&((0,r.$dqs)("#trustoo-allinone").style.overflow="scroll",(0,r.$dqs)("#trustoo-allinone").scrollTop=230),clearInterval(s))}),200)};(0,r.$dqsa)("#trustoo-allinone .user-input").forEach((t=>t.addEventListener("click",s))),(0,r.$dqsa)("#trustoo-allinone .user-input").forEach((t=>t.addEventListener("focus",s)))}i.forEach((t=>{t.onblur=function(){let t=this.parentNode.nextElementSibling;""==this.value&&this.classList.contains("require")&&(t.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${n.required}</span>\n                </div>`,t.classList.add("display"),this.classList.add("error-border"))},t.addEventListener("input",(function(){const t=this.parentNode.nextElementSibling;if(t.innerHTML="",t.classList.remove("display"),this.classList.remove("error-border"),this.parentNode.classList.contains("email-area")){!/^[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)*@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.value)&&this.value?(t.innerHTML=`<div class="input-tip"><span class="tt-error_tip"></span><span>${n.email_error}</span>\n            </div>`,t.classList.add("display"),this.classList.add("error-border")):this.value||(t.innerHTML="",t.classList.remove("display"),this.classList.remove("error-border"))}else this.classList.contains("big-input")&&function(){let t=(0,r.$dqs)(".big-input").value.length;(0,r.$dqs)("#trustoo-allinone .feedback-count>span").textContent=t+"/"+s.A.newRevCharLimit}();u()}))})),(0,r.$dqs)("input",d).onchange=function(){g(this.files,"image").then((()=>this.value="")).catch((()=>{}))};const o=(0,r.$dqs)(".tt-video-uploader .upload-input",t);o&&(o.onchange=function(){const e=this.files[0],i=this.getAttribute("accept").split(",").map((t=>t.slice(1))),n=e.name.split(".").pop();if(!i.includes(n.toLowerCase()))return(0,r.setToast)(s.A.lang.error_tip),!1;if(parseInt(e.size/1048576)>=200)return(0,r.setToast)("The file cannot exceed 200MB"),!1;(0,r.$dqsa)(".upload-area>div",t).forEach((t=>t.style.display="none")),g(this.files,"video").then((()=>this.value=""))});(0,r.$dqs)(".form-submit",t).onclick=function(){this.setAttribute("disabled",!0),this.innerHTML=`${n.submitting}`;let t=12;s.A.isMobile&&(t=20),(0,r.setLoading)(this,t),this.setAttribute("disabled",!0),w()}}(c),s.A.isLinkReqRev&&(document.body.classList.add("trustoo-open"),(0,r.$dqs)("#trustoo-mask").style.display="flex",(0,r.$dqs)(".trustoo-write-review").style.display="block")}async function g(t,e){const{mediaUrl:i,isMobile:o}=s.A;let a=!1,l=(0,r.$dqsa)(".uploaded-item").length,u=(0,r.$dqs)(".tt-uploader"),v=t.length,g="";if("image"===e&&!Object.keys(s.A.uploadImgInfo).length){const t=await n.zG.getPolicyToken();s.A.uploadImgInfo=t[1]}t.length+l>=5&&(v=5-l,d.style.display="none");for(let l=0;l<v;l++){let d="",v=t[l];"image"===e?((0,r.$dqsa)(".tt-video-uploader,.upload-or",c).forEach((t=>t.style.display="none")),d=(0,r.getObjectURL)(v),g=v.name,n.zG.uploadImg(v).then((t=>{let e=t[1].name;null===t[0]?((0,r.$dqs)(`.uploaded-item[name="${e}"]>.loader`).remove(),0===(0,r.$dqsa)(".uploaded-item>.loader").length&&_(),i.push({name:e,url:t[1].key})):(s.A.uploadedCount--,(0,r.$dqs)(`.uploaded-item[name="${e}"]`).remove(),(0,r.$dqs)(".images-num").innerHTML=`${s.A.uploadedCount}/5`,(0,r.setToast)("Failed to upload image"),(0,r.$dqs)(".tt-uploader").style.display="flex")})),p=1):"video"===e&&(p=2,(0,r.$dqsa)(".upload-area>div",c).forEach((t=>t.style.display="none")),n.zG.getUploadVideoUrl().then((t=>{const{upload_url:e,domain:i}=t[1],o=t[1].video_service_uid;n.zG.uploadVideo(e,v).then((()=>{const t=i+"/"+o,e=t+"/thumbnails/thumbnail.jpg";s.A.mediaUrl[0]={url:t+"/iframe"},(0,r.$dqs)(".uploaded-item",c).style.backgroundImage=`url(${e})`,$((0,r.$dqs)(".uploaded-item",c),e,(()=>{const t=(0,r.$dqs)(".uploaded-item",c);t.classList.remove("uploading"),(0,r.$dqs)(".loader",t).remove(),_()}))})).catch((()=>{A()}))})).catch((()=>{A()}))),s.A.uploadedCount++;let w=document.createElement("div");if(w.className="uploaded-item","image"===e?(g&&w.setAttribute("name",g),(0,r.$dqs)(".tt-image-uploader .images-num").innerHTML=`${s.A.uploadedCount}/5`,$(w,d)):"video"===e&&w.classList.add("uploading"),w.innerHTML='<div class="hover-image" style="display:none">\n                      <div class="tt-delete_image "></div>\n                    </div>\n                    ',u.before(w),(0,r.setLoading)(w,24),a||(a=!0,_()),o){let t=document.createElement("div");t.className="image-delete tt-mobile_delete_image",w.appendChild(t),t.onclick=function(){let t=this.parentNode.getAttribute("name"),e=i.findIndex((e=>e.name===t));i.splice(e,1),this.parentNode.remove(),s.A.uploadedCount--,4==s.A.uploadedCount&&((0,r.$dqs)(".tt-uploader").style.display="flex"),(0,r.$dqs)(".images-num").innerHTML=`${s.A.uploadedCount}/5`}}else w.onmouseover=function(){(0,r.$dqs)(".loader",this)||((0,r.$dqs)(".hover-image",this).style.display="block")},w.onmouseleave=function(){(0,r.$dqs)(".hover-image",this).style.display="none"},(0,r.$dqs)(".hover-image",w).onclick=function(){let t=this.parentNode.getAttribute("name"),n=i.findIndex((e=>e.name===t));i.splice(n,1),this.parentNode.remove(),s.A.uploadedCount--,0===s.A.uploadedCount?(0,r.$dqsa)(".upload-area>div",c).forEach((t=>t.style.display="flex")):s.A.uploadedCount>0&&"image"===e&&((0,r.$dqs)(".tt-image-uploader").style.display="flex"),(0,r.$dqs)(".images-num").innerHTML=`${s.A.uploadedCount}/5`}}}function A(){s.A.uploadedCount=0,(0,r.$dqs)(".uploaded-item",c).remove(),(0,r.$dqsa)(".upload-area>div",c).forEach((t=>t.style.display="flex")),(0,r.setToast)(s.A.lang.error_tip),videoUploader.value=""}function w(){if(s.A.isSendLock)return void(0,r.setToast)("Please comment again after 15 seconds");let t=0,e="";t=c.getAttribute("write-qa")?2:1,1===t?e=".inline:not([hidden]) .user-input":2===t&&(e='.user-input:not([input-type="author_phone"])');let i=null;const o={};var a=Array.from((0,r.$dqsa)(e));if(1===t)i=n.zG.uploadReview,a.forEach((t=>{const e=t.getAttribute("input-type");t.value&&(o[e]=t.value)})),s.A.isLinkReqRev?"undefined"==typeof isEmailWrite&&(o.review_source=1):o.review_source=0,s.A.ip&&(o.ip=s.A.ip,o.author_country=s.A.loc);else if(2===t){i=n.nj.addQA;const t=["question","questioner","questioner_email"];a.forEach(((e,i)=>{o[t[i]]=e.value})),o.questioner_country=s.A.loc}i(o,p,s.A.mediaUrl).then((e=>{if(null===e[0]){h(),m(),document.body.classList.add("trustoo-open"),(0,r.$dqs)("#trustoo-allinone").style.display="none";const i=(0,r.$dqs)("#success-window");if(i.style.display="block",e[1]&&e[1].discount_code&&1===t){const t=s.A.lang.all_in_one_from.discount_setting;(0,r.$dqs)(".window-discount",i).style.display="flex",(0,r.$dqs)(".window-title",i).textContent=t.title,(0,r.$dqs)(".window-title",i).style.marginTop="0",(0,r.$dqs)(".window-content",i).textContent=t.subtitle,(0,r.$dqs)(".discount-code",i).textContent=e[1].discount_code}s.A.isLinkReqRev&&(window.history.replaceState({},"",location.href.replace("?req=review","")),s.A.isLinkReqRev=!1),s.A.isSendLock=!0,setTimeout((()=>s.A.isSendLock=!1),1500)}else{h();let t="";t=-2===e[0].code?e[0].error:s.A.lang.error_tip,(0,r.setToast)(t,"1%")}})).catch((()=>{h(),(0,r.setToast)(`${s.A.lang.error_tip}`,"1%")}))}function h(){const{lang:t}=s.A;let e=(0,r.$dqs)(".form-submit");e.innerHTML=`${t.submit}`,e.removeAttribute("disabled")}function m(){Object.assign(s.A,{uploadedCount:0,uploadedIndex:0,mediaUrl:[]}),c.removeAttribute("write-review"),c.removeAttribute("write-qa"),(0,r.$dqsa)(".user-input",c).forEach((t=>t.value="")),(0,r.$dqsa)(".error-tip",c).forEach((t=>t.innerHTML=""));let t=(0,r.$dqsa)(".error-border",c);t.length&&t.forEach((t=>t.classList.remove("error-border"))),1===s.A.writeForm&&((0,r.$dqsa)(".uploaded-item",c).forEach((t=>t.remove())),(0,r.$dqs)(".tt-image-uploader .images-num",c).innerText="0/5",2===p&&((0,r.$dqs)(".tt-video-uploader .images-num",c).innerText="0/1"),(0,r.$dqsa)(".tt-uploader,.upload-or",c).forEach((t=>t.style.display="flex")));const e=(0,r.$dqs)(".feedback-count>span",c);e&&(e.textContent="0/"+s.A.newRevCharLimit);(0,r.$dqs)(".form-submit",c).setAttribute("disabled",!0),s.A.ratingVal=0,f(0)}function f(t){let e=(0,r.$dqsa)("#trustoo-allinone .star-item"),i=t||s.A.ratingVal;for(let t=0;t<e.length;t++)t<i?e[t].classList.remove("nostar"):e[t].classList.add("nostar");0!==s.A.ratingVal&&_()}function _(){const t=c;let e=0,i="";e=c.getAttribute("write-qa")?2:1,1===e?i=".inline:not([hidden]) .user-input.require":2===e&&(i='.user-input:not([input-type="author_phone"])');let n=(0,r.$dqsa)(i,t),o=(0,r.$dqs)(".form-submit",t),a=!0;n.forEach((t=>{t.value||"none"===t.parentNode.style.display||(a=!1)}));let l=0===(0,r.$dqsa)(".uploaded-item>.loader",t).length;a&&l&&0==(0,r.$dqsa)(".input-tip",t).length&&(1!==e||0!==s.A.ratingVal)?o.removeAttribute("disabled"):o.setAttribute("disabled",!0)}function y(){const{lang:t}=s.A;let e=`\n    <div class="window-title">\n        ${t.success_message}\n    </div>`;(0,r.imgLoad)("https://cdn.vstar.app/static/images/Vector.png");let i="",n=`<div class="window-content">${t.submitted_successfully}</div>`,o=`<div class="window-button"><button >${t.continue_shopping}</button></div>`;i=`<div class="window-discount" style="display:none">\n          <span class="discount-code"></span>\n          <span class="discount-copy">${s.A.lang.all_in_one_from.discount_setting.copy}</span>\n        </div>`;let a=`<div id="success-window" class="trustoo-widget">${'<div class="window-close tt-write_review_close"></div>'+e+n+i+o}</div>`;const l=(0,r.$dqs)("#success-window");(0,r.$dqs)("#trustoo-mask").insertAdjacentHTML("beforeend",a),(0,r.$dqs)("#success-window .window-close").onclick=b,(0,r.$dqs)(".window-button button",l).onclick=function(){(0,r.$dqsa)(".window-discount",l).forEach((t=>t.style.display="none")),b(),(0,r.$dqs)(".window-title",l).style.cssText=""},(0,r.$dqs)(".discount-copy",l).onclick=function(){(0,r.setCopy)((0,r.$dqs)(".discount-code",l))}}function b(){(0,r.$dqs)("#trustoo-mask").style.display="none",(0,r.$dqs)("#trustoo-allinone").style.display="none",(0,r.$dqs)("#success-window").style.display="none",document.body.classList.remove("trustoo-open"),window.removeEventListener("hashchange",a.FP)}function $(t,e,i){(0,r.imgLoad)(e).then((s=>{i&&i(),s.width>=s.height?t.style.backgroundSize="100% auto":t.style.backgroundSize="auto 100%",t.style.backgroundImage=`url(${e})`})).catch((()=>{i&&(i(),t.style.backgroundImage="url(../../images/video_default.png)")}))}},163:(t,e,i)=>{i.d(e,{FS:()=>d,dn:()=>p,pP:()=>A,xc:()=>c});var s=i(986),n=i(571);let o,r=0,a=0;o=n.A.isMobile?18:16;let l=!1;function d(t,e){const{isWdoRevOpen:i}=n.A;const r=(i?n.A.wdoRev:n.A.reviews).columnHighs,a=i?n.A.wdoRevBody:n.A.reviewsBody,l=(0,s.$dqs)(".tt-review-list",a),d=(0,s.$dqs)(`[no="${e}"]`,a);var c=parseInt(d.style.top),p=d.offsetHeight+c+o;const u=t+"column's hight updates,hight is "+p;Review.checkGridHighMsg.push(u),p>r[t-1]&&(r[t-1]=p);let v=(0,s.$dqsa)(`.column${t}`,a);v.forEach(((i,s)=>{parseInt(i.getAttribute("no"))>e&&(i.style.top=p+"px",p=p+i.offsetHeight+o),s===v.length-1&&(r[t-1]=p)}));let g=30;n.A.isMobile&&(g=0);var A=Math.max.apply(null,r);l.style.height=A+g+"px"}function c(t=[],e,i=!1){const{isWdoRevOpen:o}=n.A,r=n.A.isWdoRevOpen?n.A.wdoRev:n.A.reviews,d=r.columnHighs,c=o?n.A.wdoRevBody:n.A.reviewsBody,p=(0,s.$dqs)(".tt-review-list",c);if(!o&&"none"===c.offsetParent)return;if(a=e,i)for(let t=0;t<d.length;t++)d[t]=0;0===d.length?u(p,t):g(t,r.cardWid);const w=r.cardWid;t.forEach((t=>{const e=(0,s.$dqs)(".resource-item",t);if(null!==e){const t=e.getAttribute("proportion");e.style.width=w+"px",(0,s.$dqs)("img",e).width=w,e.style.height=w/t+"px",(0,s.$dqs)("img",e).height="auto"}})),v(p,t),l=t.length<=d.length&&n.A.isFirstPageRender,n.A.isCssLoaded&&setTimeout((()=>{A(p)}),200)}function p(){const{isWdoRevOpen:t}=n.A,e=t?n.A.wdoRevBody:n.A.reviewsBody;if(!t&&"none"===e.offsetParent)return;const i=(0,s.$dqs)(".tt-review-list",e);(0,s.$dqsa)("[new-grid-img]",e).forEach((t=>{t.removeAttribute("style"),t.removeAttribute("new-grid-img")}));const o=Array.from((0,s.$dqsa)(".grid-review",e));u(i,o),v(i,o)}function u(t,e){const{isWdoRevOpen:i}=n.A,o=i?n.A.wdoRev:n.A.reviews,r=window.getComputedStyle(t);let a=parseInt(r.width);Review.reviewsWidth=a;const l=function(t,e){const i=n.A.isWdoRevOpen?n.A.wdoRev:n.A.reviews;let o=0,r=0;t>=280&&t<501?o=2:t>=501&&t<920?o=3:t>=920&&t<1150?o=4:t>=1150&&t<1420?o=5:t>=1420&&(o=6);n.A.isMobile||(2===o||3===o?((0,s.$dqsa)(".reviews-date",e).forEach((t=>t.style.cssText="position: static;")),(0,s.$dqsa)(".grid-mobile",e).forEach((t=>t.style.cssText="margin-top: 10px;"))):o>0&&((0,s.$dqsa)(".reviews-date",e).forEach((t=>t.style.cssText="")),(0,s.$dqsa)(".grid-mobile",e).forEach((t=>t.style.cssText=""))));return i.cardWid=(t-(16*(o-1)+r))/o,o}(a,t),d=o.columnHighs;d.length=0;for(let t=0;t<l;t++)d.push(0);g(e,o.cardWid)}function v(t,e){const{isWdoRevOpen:i}=n.A;let s=i?n.A.wdoRev:n.A.reviews;const a=s.columnHighs;s.preColHighs=a.map((t=>t));for(var l=0;l<e.length;l++){var d;let t=Math.min.apply(null,a);d=a.findIndex((e=>e===t)),a[d]=a[d]+e[l].offsetHeight+o;const i=e[l].querySelector(".display-text");i&&i.setAttribute("index",d+1),e[l].className=`grid-review column${d+1}`,e[l].style.left=d*(s.cardWid+16)+r+"px",e[l].style.top=t+"px",n.A.minHeight=t}var c=Math.max.apply(null,a);let p="";p=n.A.isMobile?`${c}px`:`${c+30}px`,n.A.isCssLoaded&&(t.style.opacity=1),t.style.height=p}function g(t,e){t.forEach((t=>{t.style.width=e+"px",(0,s.$dqs)("img",t)&&((0,s.$dqs)("img",t).width=e)}))}function A(t,e=!1){const i={highMsg:[]};const r=(n.A.isWdoRevOpen?n.A.wdoRev:n.A.reviews).preColHighs,c=r.length;if(i.loadedStyleCheck=e,0===c){if(e)return;p()}else for(let e=0;e<c;e++){const c=(0,s.$dqsa)(".grid-review.column"+(e+1),t);if(l&&c[0]){let s=30;if(n.A.isMobile&&(s=0),parseInt(t.style.height)-s<c[0].offsetHeight){const t={errColumn:e+1,cardNo:1,highDiff:"One row with the wrong height"},s=c[0].getAttribute("no");i.highMsg.push(t),d(e+1,s)}}else{let t=r[e],s=0;const n=[];if(c.forEach((t=>{t.getAttribute("no")>a&&n.push(t)})),0===n.length)continue;s=t+n[0].offsetHeight+o;for(let t=1;t<n.length;t++){const r={},a=n[t];if(parseInt(a.style.top)!==s){const o=n[t-1].getAttribute("no");r.errColumn=e+1,r.cardNo=o,r.highDiff=`nowHigh:${parseInt(a.style.top)},Ideal height:${s} `,i.highMsg.push(r),d(e+1,o)}s=s+a.offsetHeight+o}}}Review.checkGridMsg.push(i)}n.A.arrangeGrid=p},405:(t,e,i)=>{i.d(e,{a:()=>r,i:()=>o});var s=i(357),n=i(571);function o(t,e="beforeend",i=5,o,a,l=""){this.pageCount=o,this.callback=a,this.activeIndex=0,this.middleIndex=parseInt(i/2);const{userSetting:d,isWdoRevOpen:c}=n.A,p=c?n.A.wdoRevDom:n.A.reviewsDom,u=s.A.prePage(d.font_color),v=s.A.nextPage(d.font_color),g=t.parentNode.classList.contains("trustoo-rtl");for(var A=`<ul class="page-control" type="${l}">\n            <li style="display:none" class="page-control-button pre-page">\n              ${g?v:u}\n            </li>`,w=1;w<=i;w++)A+=`<li class="page-control-item ${1===w?"active":""} " index="${w-1}" >${w}</li>`;if(A+=`<li class="page-control-button next-page">\n              ${g?u:v}\n            </li>\n            </ul>`,t.insertAdjacentHTML(e,A),this.el=p.querySelector(`.page-control[type="${l}"]`),this.pager=this.el.querySelectorAll(".page-control-item"),o<5&&1!==o)for(w=o;w<5;w++)this.pager[w].style.display="none";setTimeout((()=>{1===o&&this.togglePageButton(2)}),0),this.pager.forEach((t=>{t.onclick=()=>{this.activeIndex=t.getAttribute("index");let e=parseInt(t.textContent);this.pageClick(a,e)}})),this.pageClick=function(t,e){let i=this.el.querySelector(".page-control-item.active").textContent;const s=this.pageCount;r(3,e),t?t():this.activeIndex=0,(1==i&&1!=e||1!=i&&1==e)&&this.togglePageButton(1),(i!=s&&e==s||i==s&&e!=s)&&this.togglePageButton(2),this.setPageNum()};var h=this.el.querySelector(".pre-page"),m=this.el.querySelector(".next-page");this.togglePageButton=function(t){1==t?"none"===h.style.display?h.style.display="flex":h.style.display="none":2==t&&("none"===m.style.display?m.style.display="flex":m.style.display="none")},this.setPageNum=function(){let t=r();const e=this.pageCount;this.activeIndex>this.middleIndex&&this.pager[i-1].innerHTML<=e||this.activeIndex<this.middleIndex&&this.pager[0].innerHTML>1?(t+this.middleIndex>e||t-this.middleIndex<=0?this.el.querySelector(".page-control-item.active").classList.remove("active"):this.activeIndex!=this.middleIndex&&(this.el.querySelector(".page-control-item.active").classList.remove("active"),this.activeIndex=this.middleIndex,this.pager[this.middleIndex].classList.add("active")),this.changePageNum()):(this.el.querySelector(".page-control-item.active").classList.remove("active"),this.pager[this.activeIndex].classList.add("active"))},this.getNextPageReviews=function(){r(1);const t=this.pageCount;let e=r();this.activeIndex++,2==e&&this.togglePageButton(1),e==t&&this.togglePageButton(2),a&&a(),this.setPageNum(2)},this.getPrePageReviews=function(){const t=this.pageCount;this.activeIndex--,r(2);let e=r();1==e&&this.togglePageButton(1),e==t-1&&this.togglePageButton(2),a&&a(),this.setPageNum(1)},m.onclick=()=>this.getNextPageReviews(),h.onclick=()=>this.getPrePageReviews(),this.changePageNum=function(){const t=this.pageCount;let e=r();var s=!1,n=e-this.middleIndex,o=e+this.middleIndex;e+this.middleIndex>t?(s=!0,n=t-2*this.middleIndex,i%2==0&&n++,o=t):i%2==0&&o--,n<=0&&(s=!0,o=(n=1)+2*this.middleIndex);for(var a=0,l=n;l<=o;l++)l===e&&s&&(this.pager[a].classList.add("active"),this.activeIndex=a),this.pager[a].innerHTML=l,a++}}function r(t,e){let i=n.A.isWdoRevOpen?n.A.wdoRevDom:n.A.reviewsDom;const s=1===n.A.showType?"reviews-page-no":"qa-page-no";let o=parseInt(i.getAttribute(s));return 1===arguments.length?(1===t?o++:2===t&&o--,i.setAttribute(s,o)):3===t&&2===arguments.length&&i.setAttribute(s,e),o}},336:(t,e,i)=>{i.d(e,{WC:()=>q,Gs:()=>R,FP:()=>L,E7:()=>I,Al:()=>P,mR:()=>O});var s=i(571),n=i(638),o=i(986),r=i(163),a=i(405),l=i(134),d=i(220),c=i(778),p=i(357),u=i(957);async function v(t,e){s.A.couldPreLoading=!1,s.A.imgCount=0,s.A.loadedImgCount=0,s.A.thumbImg=[];let i,n,r=[];const{isMixReview:l,isWdoRevOpen:d,isList:c,userSetting:p}=s.A;let A=(0,a.a)();const w=p.review_pagination_type;n=d?s.A.wdoRevDom:s.A.reviewsDom;const h=s.A.isWdoRevOpen?s.A.wdoRev:s.A.reviews,m=d?"trustoo_all_reviews":"trustoo_reviews",f=t||e;f?(r=[],(0,o.gsSession)("set",m,[])):r=(0,o.gsSession)("get",m);if(1===w&&r[A-1])g(r[A-1]);else{const t=n.getAttribute("review_sort_by");if("undefined"==typeof vstar_product_reviews||s.A.isReviewsUpdate||1!==A||d||f||l||1===p.auto_switch_language){i=(await u.zG.getProRevList(t,h.ratingFilter))[1]}else i=vstar_product_reviews;const c=i.page.total_page;if(n.getAttribute("review-page-count")||((s.A.isMixReview||s.A.isWdoRevOpen)&&(s.A.allRatingData=i.total_rating,null===s.A.allRatingData&&(n.innerHTML="")),function(t,e){const{lang:i,isRevPage:n,isWdoRevOpen:r,isGrid:l,userSetting:d}=s.A,c=d.review_pagination_type;if(1!==c||r||n){if(2===c&&e>1&&!n&&!r){const e=`<button class="more-review-btn" type="button"\n     style="display:${l?"none":"block"}">${i.more}</button>`;(0,o.$dqs)("#reviews-footer",t).insertAdjacentHTML("beforeend",e),(0,o.$dqs)(".more-review-btn",t).onclick=function(t){t.target.style.display="none",(0,o.$dqs)(".loader",t.target.parentNode).style.display="block",(0,a.a)(1),v()}}}else if(e>1){let i=new a.i((0,o.$dqs)("#reviews-footer",t),"beforeend",5,e,v,"reviews");r?s.A.wdoPager=i:s.A.pager=i}}(n,c)),n.setAttribute("review-page-count",c),l||d){if(0===i.page.count)return n.parentNode.style.display="block",void n.insertAdjacentHTML("beforeend",'<div id="reviews-head" style="border: none;"></div><div class="no-review-tip">There are no reviews yet</div>');{const t=(0,o.$dqs)(".no-review-tip",n);t&&t.remove()}}s.A.isWebPSupported||i.list.forEach((t=>{0!==t.resources.length&&t.resources.forEach((t=>{t.src=t.src.replace("trustoo_big","q_90"),t.thumb_src=t.thumb_src.replace("trustoo_small","w_220")}))}));const _=i.list;r[A-1]=_,(0,o.gsSession)("set",m,r),f&&1===w&&s.A.pager&&s.A.pager.pageClick(null,1),g(_,f,e)}}function g(t,e,i){const{userSetting:d,isRevPage:c,isWdoRevOpen:u,isMixReview:v,isGrid:g,globalStyle:h}=s.A,{isShowRevRatingNum:m,isImgLoadLazy:f}=l.A,_=u?s.A.wdoRev:s.A.reviews,y=u?s.A.wdoRevBody:s.A.reviewsBody,b=y.parentNode;let $=[];const x=d.review_pagination_type,C=(0,a.a)(),R=(0,o.$dqs)(".tt-review-list",y);(!c&&!u&&(1===x||e)||e&&(v||u))&&(R.innerHTML="",g&&(R.style.opacity=0),_.cardCount=0,s.A.isMobile&&u&&(0,o.scrollTo)(b)),m&&1===(0,a.a)()&&(h.innerHTML+="#vstar-reviews .star{display:flex;align-items:center}\n                #vstar-reviews .rev-rating-num{font-size:15px;margin-left:8px}");let q="";f&&(q='loading="lazy"');let S="";g&&(S='style="visibility:hidden"');const k=_.cardCount;let T=_.cardCount;if(t.forEach((t=>{let e="";e=`no="${++T}"`,Object.assign(t,{imgAttr:q,cardCount:T,noText:e,styleText:S});const i=document.createElement("div");if(i.className=s.A.layoutClass+"review",i.innerHTML=function(t){const{isMobile:e,layoutClass:i,userSetting:r,origImg:a,thumbImg:d,isGrid:c,isList:u,lang:v}=s.A,{isShowRevVerified:g,isAddRevVrfy:A,isShowRevRatingNum:h}=l.A,{noText:m,imgAttr:f}=t;let _="",y="",b="",$="",x="",C="",R="",q="",S="";var k="",T="";let L="",E="",P=(0,n.getTotalStarString)(t.star);if(t.resources.forEach(((t,e)=>{let i=2===t.resource_type?'<div class="tt-video-player">\n      <img src="https://cdn.vstar.app/static/images/player.png" />\n    </div>':"",n="";if(1===t.resource_type?n=t.src:2===t.resource_type&&(n=t.thumb_src),c){const o=(t.width/t.height).toFixed(2);if(0==e){let r="";""!==t.average_hue&&(r=`background-color:${t.average_hue}`),k+=`<div class="resource-item" style="${r}"  \n\t\t\t\tnew-grid-img proportion="${o}">\n          <img index="${e}" alt="${e}" ${m} ${f} \n\t\t\t\t\tdata-original="${n}">\n          ${i}\n        </div>`,s.A.imgCount++,d.push(t.thumb_src)}else k+=`<div class="resource-item" proportion="${o}">\n\t\t\t\t<img style="display:none" index="${e}" alt="${e}"\n           data-original="${t.src}" src="${t.thumb_src}" ></div>`;a.push(t.src)}else u&&(T+=function(t,e,i,n,o){const{origImg:r,thumbImg:a}=s.A;let l="",d="";d=t.width<t.height?"width:100%;":"height:100%;";return l+=`<div class="resource-item"><img index="${n}" alt="${n}" ${i} style="${d}"\n     ${e} data-original="${t.thumb_src}" src="${t.thumb_src}" >\n      ${o}\n     </div>`,s.A.imgCount++,a.push(t.thumb_src),r.push(t.src),l}(t,f,m,e,i))})),0!==t.resources.length){let e="";t.resources.length>1&&(e=`<div class="multi-photo-wrapper">${p.A.multiPhoto()}</div>`),c?k=`<div class="resource-list">${e+k}</div>`:u&&(T=`<div class="resource-list">${T}</div>`)}h&&(x=t.star);const I=p.A.verified(r.verified_badge_color),M=`<span class="verified-text">${v.verified_purchase}</span>`,O=r.is_show_verified_badge;let D="";A&&(t.verified_badge=1);g&&1===t.verified_badge&&(1===O?C=`<div class="user-verified">\n      ${I+M}</div>\n    `:2===O||3===O&&(D=I));let N=w(t.commented_at,r.review_date_format_type),B=N?`<span class="reviews-date">${N}</span>`:"";c&&e&&($=B);var H="";const W=`<span class="${t.author_country?"country-flag "+t.author_country:""}"\n   style="${t.author_country?"border: 1px solid #ccc;":""}" ></span>`,j=` <span class="country-name">${t.author_country}</span>`,F=r.is_show_country_flag;1==F?H=W+j:3==F?H=W:4==F&&(H=j);e&&c?y=H:b=H;l.A.isNoEllipsisReviews?L=t.content:c?L=t.content.length>200&&!e||t.content.length>100&&e?function(t,e){let i=200;s.A.isMobile&&(i=100);i-=s.A.lang.show_full_review.length;let n=e?`cardNo="${e}"`:"";return`${t.substr(0,i)}<span class="display-text" ${n} >...${s.A.lang.show_full_review}</span><span hidden class="remain-text">${t.substr(i)}</span>`}(t.content,t.cardCount):t.content:u&&(L="");1===s.A.userSetting.item_type&&t.item_type&&(R=`<div class="tt-item-type" style="margin-top: 12px">\n\t\t\t<p style="font-size: 12px; opacity: 0.6">\n\t\t\t\t${v.item_type}\n\t\t\t</p>\n\t\t\t<p style="font-size: 14px;">${t.item_type}</p>\n\t\t</div>`);""!==t.reply_content&&(q=`<div class="merchant-reply">\n          <div class="reply-title">${p.A.store(r.font_color)} ${s.A.lang.reply}:</div>\n          <div class="reply-content">${t.reply_content}</div>\n        </div>`);if(1===s.A.userSetting.is_show_helpful){const e="tt_review_"+s.A.shop_id;let i=(0,o.gsLocal)("get",e),n="",r="";if(i){i=JSON.parse(i);const e=i.find((e=>e.id===t.id));e&&(1===e.likeType?n="active":2===e.likeType&&(r="active"))}E=`<div class="review-helpful"><span>${v.helpful}</span>\n\t\t${p.A.helpful(n)}<span class="tt-helpful-count">${t.likes_count}</span>\n\t\t${p.A.unhelpful(r)}<span class="tt-unhelpful-count">${t.dislike_count}</span></div>`}if(t.corresponding_product){const e=t.corresponding_product;let i=e.product_name;i.length>50&&(i=i.substr(0,50)+"..."),S=`\n        <a class="related-product" url="${e.product_url}" href="${e.product_url}" target="_blank">\n          <div class="product-image"><div style="background-image:url(${e.product_image})" class="related-product-image"></div></div>\n          <div class="product-name">${i}</div>\n        </a>\n      `}return`\n                  ${k}\n                  \n          <div class="${i}review-head">\n          <div class="review-row-one" >\n            <div class="star vstar-star"> ${P} <span class="rev-rating-num" > ${x} </span> </div>\n            ${B}\n          </div>\n\n            <div class="grid-mobile"> ${$+y}  </div>\n            <div class="user-message">  \n              <span class="user-name"> <span class="author-name"> ${t.author}  </span> </span>\n              ${D}\n              ${b}    \n              ${C}                                  \n              ${_}\n            </div>\n          </div>\n          <div class="${i}review-body">\n              <p class="reviews-text"  style="line-height: 22px;">\n                  ${L}\n              </p>\n          ${T}\n          ${R}\n          ${q}\n\t\t\t\t\t${E}\n          ${S}\n\n          </div>\n   `}(t),R.appendChild(i),i.setAttribute("no",T),i.setAttribute("review-id",t.id),$.push(i),g);else if(s.A.isList&&!l.A.isNoEllipsisReviews){!async function(t,e,i,n){var o=window.getComputedStyle(t),r=o["line-height"],a=i*parseInt(r);await new Promise((t=>{setTimeout((()=>t()),200)}));var l=e;t.innerHTML=l;var d=l.length;let c="";if(t.offsetHeight<=a);else{for(var p,u=0,v=d;t.offsetHeight>a;)p=(u+v)/2,t.innerHTML=l.substring(0,p),t.offsetHeight<=a?(t.innerHTML=l.substring(0,v),u=p):v=p-1;c=l.substring(0,v-s.A.lang.show_full_review.length-10),t.innerHTML=c}if(c){let i=`<span class="display-text" ${n?`cardId="${n}"`:""} >...${s.A.lang.show_full_review}</span><span hidden class="remain-text">${e.substr(c.length)}</span>`;t.insertAdjacentHTML("beforeend",i)}}((0,o.$dqs)(".reviews-text",i),t.content,3)}})),_.cardCount=T,$.forEach(((e,i)=>{let n=[];s.A.isList?n=(0,o.$dqsa)(".resource-item>img",e):s.A.isGrid&&(0,o.$dqs)(".resource-item>img",e)&&n.push((0,o.$dqs)(".resource-item>img",e)),0!==n.length&&(s.A.isGrid&&s.A.gridShowImgCount++,n.forEach(((e,n)=>{e.onload=function(){e.getAttribute("loaded")||(e.setAttribute("loaded",!0),A("success",this));try{0==t[i].resources[n].width&&s.A.isList&&(e.width>=e.height?e.style.cssText="width:auto;height:100%":e.style.cssText="width:100%;height:auto")}catch(t){}},e.onerror=function(){if(!e.getAttribute("loaded")){e.setAttribute("loaded",!0);const t=e.closest(".resource-list");s.A.isGrid?0==e.getAttribute("alt")&&t.remove():s.A.isList&&(e.parentNode.remove(),0===t.children.length&&t.remove()),A("fail",this)}},e.src=e.getAttribute("data-original")})))})),1===C&&(s.A.isFirstPageRender||u||c))g&&(0,r.xc)($,k,e);else if(g){let t=!1;u||c||(t=1===x||e),(0,r.xc)($,k,t)}!function(t,e,i,n){const r=parseInt(e.getAttribute("review-page-count")),a=(0,o.$dqs)(".loader",e);if("block"===a.style.display&&(a.style.display="none"),s.A.allRevLoadLock=!1,!s.A.isRevPage&&!s.A.isWdoRevOpen)if(1===t){if(s.A.isFirstPageRender||(s.A.isList?(0,o.scrollTo)(e):(0,o.scrollTo)(e,"auto")),n&&r>1){const t=(0,o.$dqsa)(".page-control-item",revFooter);(0,o.$dqs)(".pre-page",revFooter).style.display="none",(0,o.$dqs)(".next-page",revFooter).style.display="flex";for(let e=0;e<5;e++){t[e].style.display=e<r?"inline-block":"none"}}}else{const t=(0,o.$dqs)(".more-review-btn",e);i<r&&(t.style.display="block")}}(x,b,C,i),s.A.isList&&(0,o.imgLoadLimit)(s.A.origImg,5)}function A(t,e){const i=e.getAttribute("no");if("fail"===t)if(s.A.isGrid){e.src="https://cdn.vstar.app/static/images/default.png",e.setAttribute("data-original","https://cdn.vstar.app/static/images/default.png"),e.parentNode.style.height=e.parentNode.style.width;const t=e.parentNode.parentNode.className.slice(-1);(0,r.FS)(t,i),Review.loadedPhoto.push(i)}else s.A.isList;s.A.isGrid&&(s.A.gridLoadedShowImg++,s.A.gridLoadedShowImg===s.A.gridShowImgCount&&((0,r.dn)(),s.A.isImgLoadLazy||(0,o.imgLoadLimit)(s.A.origImg,5)))}function w(t,e){let i=[];-1!==t.indexOf("/")?i=t.split("/"):-1!==t.indexOf("-")&&(i=t.split("-"));let s="";return 1===e?s=i[1]+"/"+i[2]+"/"+i[0]:2===e?s=i[2]+"/"+i[1]+"/"+i[0]:3===e&&(s=t),s}function h(t,e){if(s.A.likeRevLock)return;let i="",n=null;1===s.A.showType?(i="review",n=u.zG.likeOrDislikeReview):2===s.A.showType&&(i="qa",n=u.nj.likeOrDislikeQA),s.A.likeRevLock=!0;let r=2,a=1;e.contains("tt-helpful")?a=1:e.contains("tt-unhelpful")&&(a=2);const l=t.closest(`[${i}-id]`).getAttribute(`${i}-id`),d=e.contains("active"),c=t.parentNode,p=(0,o.$dqs)(".tt-helpful-count",c),v=(0,o.$dqs)(".tt-unhelpful-count",c),g="tt_"+i+"_"+s.A.shop_id;let A=(0,o.gsLocal)("get",g);A=A?JSON.parse(A):[];const w=A.findIndex((t=>t.id===l)),h=t.nextElementSibling;r=d?2:1,d||-1!==w&&(r=3),n(a,r,l).then((e=>{if(e[0])return void(s.A.likeRevLock=!1);const i=(0,o.$dqs)(".active",c);i&&i.classList.remove("active"),d?(t.classList.remove("active"),-1!==w&&A.splice(w,1),h.textContent=parseInt(h.textContent)-1):(-1!==w&&A.splice(w,1),t.classList.add("active"),A.push({id:l,likeType:a}),h.textContent=parseInt(h.textContent)+1),3===r&&(1===a?v.textContent=parseInt(v.textContent)-1:2===a&&(p.textContent=parseInt(p.textContent)-1)),(0,o.gsLocal)("set",g,JSON.stringify(A)),setTimeout((()=>{s.A.likeRevLock=!1}),300)}))}let m=0,f=!1,_=!1,y=0;async function b(){let t=null;if("undefined"==typeof vstar_qa_settings||s.A.isSettingUpdate){const e=await u.nj.getSetting();null===e[0]&&(t=e[1])}else t=vstar_qa_settings;if(t){if(1!==t.is_active)return;(0,a.a)(3,1),m=t.review_date_format,y=t.page_size,_=t.is_show_helpful;let e=[];const i=t.color.split(",");["title-color","title-line-color","line-color","question-color","answer-color","reply-bg-color"].forEach(((t,s)=>{e.push(`--${t}:${i[s]};`)})),s.A.globalStyle.textContent+=`\n\t\t.tt-tabs-list{\n\t\t\t${e.slice(0,2).join("")}\n\t\t}\n\t\t.tt-qa-list{\n\t\t\t${e.slice(2).join("")}\n\t\t\t\t--author-font-size:${t.author_font_size}px;\n\t\t\t\t--content-font-size:${t.content_font_size}px;\n\t\t}\n\t\t`,$()}}async function $(){const t=await u.nj.getList({limit:y});if(t[1]&&!f){f=!0,s.A.reviewsBody.insertAdjacentHTML("afterbegin",'<div class="tt-qa-list"></div>'),(0,o.$dqs)(".tt-qa-list",s.A.reviewsDom).addEventListener("click",(function(t){let e=t.target;"path"===e.tagName&&(e=e.closest("svg"));let i=e.classList;(i.contains("tt-helpful")||i.contains("tt-unhelpful"))&&h(e,i)}));const e=t[1].page.total_page;s.A.reviewsDom.setAttribute("qa-page-count",e),e>1&&new a.i((0,o.$dqs)("#reviews-footer",s.A.reviewsDom),"beforeend",5,e,$,"qa")}const e=t[1].list;let i="";e.forEach((t=>{let e="";if(t.qa_reply_data){let i="";if(1===_){const e="tt_qa_"+s.A.shop_id;let n=(0,o.gsLocal)("get",e),r="",a="";if(n){n=JSON.parse(n);const e=n.find((e=>e.id==t.id));e&&(1===e.likeType?r="active":2===e.likeType&&(a="active"))}i=`<div class="review-helpful"><span>${s.A.lang.question_and_answer.helpful}</span>\n\t\t\t\t${p.A.helpful(r)}<span class="tt-helpful-count">${t.qa_reply_data.likes_qa}</span>\n\t\t\t\t${p.A.unhelpful(a)}<span class="tt-unhelpful-count">${t.qa_reply_data.dislike_qa}</span></div>`}e=`<div class="tt-reviews-answer" >\n\t\t\t<div class="first-row">\n\t\t\t\t<span class="tt-answerer" >${t.qa_reply_data.answerer} </span>\n\t\t\t\t<span class="tt-answer-date">${w(t.qa_reply_data.create_time,m)}</span>\n\t\t\t</div>\n\t\t\t<div class="second-row" > ${t.qa_reply_data.answer} </div>\n\t\t\t<div class="tt-qa-helpful" style="text-align: right;">\n\t\t\t\t${i}\n\t\t\t</div>\n\t\t</div>`}i+=`\n\t\t\t<div class="tt-qa" qa-id="${t.id}">\n\t\t\t\t<div class="tt-review-question" >\n\t\t\t\t\t<div class="first-row">\n\t\t\t\t\t\t<span class="tt-questioner" >${t.questioner}</span>\n\t\t\t\t\t\t<span class="tt-question-date">${w(t.create_time,m)}</span>\n\t\t\t\t\t</div>\n\t\t\t\t<div class="second-row" > ${t.question} </div>\n\t\t\t\t</div>\n\t\t\t\t${e}\n\t\t\t</div>\n\t\t\t`})),(0,o.$dqs)(".tt-qa-list",s.A.reviewsDom).innerHTML=i}var x=i(154),C=i(45);async function R(t){const{revIdBase:e,isWdoRevOpen:i}=s.A;let u,g;const A=function(){var t="",e="";let i="",n="";const{revIdBase:o,isWdoRevOpen:r}=s.A,{nextRevDesc:a}=l.A;let d="",c="",u="";["ar","he"].includes(Review.lang)&&(u=" trustoo-rtl");s.A.isWdoRevOpen||(u+=" pending");if(t=`<div id="reviews-head" ${d} >\n  </div>`,1===s.A.userSetting.is_qa_active&&!s.A.isWdoRevOpen&&!s.A.isMixReview){i=`<div class="tt-tabs-list">\n\t\t<span class="tt-tab active" index="0"\n\t\t\t>${s.A.lang.reviews.charAt(0).toUpperCase()+s.A.lang.reviews.slice(1)}\n\t\t\t(${s.A.ratingData.total_reviews})</span\n\t\t>\n\t\t<span class="tt-tab" index="1"\n\t\t\t>${s.A.lang.question_and_answer.title}(${s.A.ratingData.total_qa_count})</span\n\t\t>\n\t</div>`;const t=P();n=`<div class="tt-reviews-sort">\n\t\t\t<div class="tt-sort-content" style="text-align:right"><span style="margin-right:8px;font-size:14px">${t.text}</span>${p.A.sort(s.A.userSetting.font_color)}</div>\n\t\t\t${t.html}\n\t\t</div>`,u+=" qa"}let v="";a&&(v=`<div id="review-desc" style="margin-top:26px;color:#666666">${a}</div>`);var g=`<div id="reviews-body" ${s.A.isMobile?'style="padding: 0 16px;"':""}><div class="tt-review-list"></div>\n    </div>`;e='<div id="reviews-footer">\n    <div class="loader" style="display:none;"></div>\n   </div>';const A=r?"":"not-wdo-rev",w=s.A.isMixReview?"all-reviews":"",h=s.A.productId?`data-product-id="${s.A.productId}"`:"",m=`<div id="reviews-wrapper">\n  <div id="${o}reviews" show-type="1" ${A} ${w} ${h}  class="trustoo-widget ${c+u}">\n    ${t+i+n+g+v+e}</div>\n  </div>`;return m}();if(S(A,t.tarNode,t.position),t.tarNode&&i){let i=(0,o.$dqs)(`#${e}reviews`,t.tarNode),n=(0,o.$dqs)("#reviews-body",t.tarNode);u=i,g=n,Object.assign(s.A,{wdoRevDom:i,wdoRevBody:n})}else u=(0,o.$dqs)(`#${e}reviews`),g=(0,o.$dqs)("#reviews-body"),Object.assign(s.A,{reviewsDom:u,reviewsBody:g});u.setAttribute("review_sort_by",s.A.userSetting.review_sort_by);const w=1===s.A.userSetting.layout?"list":"gird";u.setAttribute("layout",w),i||s.A.reviewsDom&&M();let m=parseInt(window.getComputedStyle(u).width);s.A.isGrid&&(s.A.reviewsWidth=m),(0,a.a)(3,1);const f=i?"trustoo_all_reviews":"trustoo_reviews";(0,o.gsSession)("set",f,[]),await v(),function(){const{lang:t,userSetting:e,revHeadType:i}=s.A,r=s.A.isWdoRevOpen?s.A.wdoRev:s.A.reviews,l=s.A.isMixReview||s.A.isWdoRevOpen,d=l?s.A.allRatingData:s.A.ratingData,c=s.A.isWdoRevOpen?s.A.wdoRevDom:s.A.reviewsDom,u=(0,o.$dqs)("#reviews-head",c);let g="",A="";if(s.A.isWdoRevOpen&&u&&(u.innerHTML+='<div class="window-close">'+p.A.close(e.font_color)+"</div>"),!d)return;var w="";(1!==s.A.userSetting.is_qa_active||s.A.isWdoRevOpen||s.A.isMixReview)&&(w=`<div class="head-sort" ><div class="sort-content">\n\t\t<div class="sort-icon"><svg width="19" height="18" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t<path\n\t\t\t\t\td="M17.905 8.274H7.675a2.609 2.609 0 0 0-5.018 0H.714a.714.714 0 0 0 0 1.429h1.943a2.609 2.609 0 0 0 5.018 0h10.23a.714.714 0 0 0 0-1.429zM5.165 10.17a1.181 1.181 0 1 1-.001-2.363 1.181 1.181 0 0 1 .002 2.363zm12.74-8.296h-1.381a2.609 2.609 0 0 0-5.006 0H.718a.714.714 0 0 0 0 1.428h10.79a2.609 2.609 0 0 0 5.027 0h1.372a.714.714 0 1 0-.002-1.428zM14.02 3.79a1.18 1.18 0 1 1 .003 0h-.003zm3.885 10.886h-3.344a2.609 2.609 0 0 0-5.019 0H.718a.714.714 0 0 0 0 1.429h8.824a2.61 2.61 0 0 0 5.019 0h3.344a.714.714 0 0 0 0-1.429zm-5.853 1.895a1.181 1.181 0 1 1-.003-2.363 1.181 1.181 0 0 1 .003 2.363z"\n\t\t\t\t\tfill="${e.font_color}" />\n\t\t\t</svg>\n\t\t</div>\n\t\t${P().html}\n\t\t</div></div>`);var h=(0,n.getTotalStarString)(d.rating,20,1,!0);let m=d.total_reviews,f="",_="";2===e.is_show_review_button||l||(f=`<button class="head-button tt-write-reviews" type="button">\n          ${t.write_reviews}\n      </button>`),1!==s.A.userSetting.is_qa_active||s.A.isWdoRevOpen||s.A.isMixReview||(_=`<button class="head-button tt-write-qa" type="button">\n\t\t\t\t${t.question_and_answer.ask_a_question}\n\t\t</button>`);let y="",b="",$="",x=`<p class="point">\n          <span class="big-point">${d.rating}</span>\n        </p>`;if(1===i?($=`<p class="tt-head-title">${t.customer_reviews}</p>`,y=`<div class="head-center">\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">5</span> ${t.star}</span><span class="star-range"></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">4</span> ${t.star}</span><span class="star-range"></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">3</span> ${t.star}</span><span class="star-range"></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">2</span> ${t.star}</span><span class="star-range"></span></span><span class="star-num"></span>\n        </div>\n      <div class="star-raw"><span class="star-classify">\n        <span class="number">1</span> ${t.star}</span><span class="star-range"></span></span><span class="star-num"></span>\n        </div>\n      </div>`):2===i&&(g="review-head-type2"),b+=`\n      <div class="product-rating">\n        ${x}\n        <div class="star vstar-star">\n            ${h}                                      \n        </div>\n        <p class="reviews-num"> ${m} ${t.reviews}</p>\n      </div>\n      `,b=`<div class="head-left">\n      ${b}\n    </div>`,A=`\n\t${$}\n\t<div class="tt-head-content" style="\n\t">\n\t\t<div class="tt-head-left">\n\t\t${b+y}\n\t\t</div>\n\t\t<div class="tt-head-right">\n\t\t\t\t${f+_+w}\n\t\t</div>\n\t</div>\n\n\t`,u&&(u.className+=g,u.innerHTML+=A,2!==i)){const t=(0,o.$dqsa)(".star-range",u),i=(0,o.$dqsa)(".star-num",u);t.forEach(((t,n)=>{var l=5-n;const c=d["total_star"+l];i[n].textContent=c;var p=(c/d.total_reviews*100).toFixed(2);p+="%",t.setAttribute("index",l),t.style.cssText=`background:linear-gradient(to right, ${e.star_color} 0%, ${e.star_color} ${p},${e.nostar_color} ${p}, ${e.nostar_color})`,c>0&&1===s.A.userSetting.rating_filter&&(t.onclick=function(){const e=t.getAttribute("index");e===r.ratingFilter?r.ratingFilter=0:r.ratingFilter=e,(0,a.a)(3,1),v(!1,!0)},t.parentNode.onmouseover=function(){(0,o.$dqs)(".head-center",u).classList.add("tt-hover"),this.classList.add("active")},t.parentNode.onmouseout=function(){(0,o.$dqs)(".head-center",u).classList.remove("tt-hover"),this.classList.remove("active")})}))}}();const _=(0,o.$dqs)(".head-sort:first-child",u);_&&_.parentNode.setAttribute("only-sort",!0),function(){const{isMixReview:t,isWdoRevOpen:e,hasPyRating:i,reviewsDom:n}=s.A,l=e?s.A.wdoRevBody:s.A.reviewsBody;t||e||2===s.A.userSetting.is_show_review_button||(0,o.$dqs)(".head-button.tt-write-reviews",n).addEventListener("click",k);1!==s.A.userSetting.is_qa_active||s.A.isWdoRevOpen||s.A.isMixReview||(0,o.$dqs)(".head-button.tt-write-qa",n).addEventListener("click",(function(){T(),document.body.classList.add("trustoo-open"),(0,o.$dqs)("#trustoo-mask").style.display="flex";const t=(0,o.$dqs)("#trustoo-allinone");(0,o.$dqs)(".head-title",t).textContent=s.A.lang.question_and_answer.ask_a_question,(0,o.$dqs)(".feedback-area>.tt-input-title",t).textContent=s.A.lang.question_and_answer.desc_placeholder,(0,o.$dqs)(".form-submit",t).textContent=s.A.lang.question_and_answer.submit_question,t.style.display="block",t.setAttribute("write-qa",!0)}));(0,o.$dqs)("#reviews-head .head-sort,.tt-reviews-sort")&&function(){const t=s.A.isWdoRevOpen?s.A.wdoRevDom:s.A.reviewsDom,e=(0,o.$dqs)(".head-sort,.tt-reviews-sort",t),i=(0,o.$dqs)(".sort-popup",t),n=(0,o.$dqs)(".sort-active",t);window.addEventListener("click",(function(t){e.contains(t.target)||(i.style.display="none")})),(0,o.$dqsa)(".sort-item",t).forEach((t=>t.onclick=function(){const t=s.A.isWdoRevOpen?s.A.wdoRevDom:s.A.reviewsDom;if(!this.classList.contains("active")){(0,o.$dqs)(".sort-item.active",t).classList.remove("active"),this.classList.add("active"),n.style.top=this.offsetTop+3+"px";const e=this.getAttribute("sort-value");t.setAttribute("review_sort_by",e),1!==s.A.userSetting.review_pagination_type||s.A.isWdoRevOpen||(s.A.reviewsList=[],s.A.pageRecord=[]),i.style.display="none";const r=(0,o.$dqs)(".tt-sort-content>span");r&&(r.textContent=this.textContent),t.setAttribute("reviews-page-no",1),v(!0)}})),(0,o.$dqs)(".sort-icon,.tt-sort-content",t).onclick=function(){let t=i.style.display;i.style.display="block"===t?"none":"block"}}();(0,o.$dqsa)(".tt-tab").forEach((t=>{t.onclick=function(t){const e=t.target;e.classList.add("active");const i=e.getAttribute("index"),n=l.querySelector(".tt-qa-list");"0"===i?(s.A.showType=1,s.A.reviewsDom.setAttribute("show-type",1),e.nextElementSibling.classList.remove("active")):"1"===i&&(s.A.showType=2,s.A.reviewsDom.setAttribute("show-type",2),n||b(),e.previousElementSibling.classList.remove("active"))}})),l.addEventListener("click",(function(t){let e=t.target;"path"===e.tagName&&(e=e.closest("svg"));let i=e.classList;if(i.contains("resource-item")&&(e=(0,o.$dqs)("img",e)),"IMG"==e.tagName){let t=null;const i=e.parentNode.className;"tt-video-player"===i?t=e.parentNode.previousElementSibling:"resource-item"===i&&(t=e);let n=parseInt(t.getAttribute("no"));const r=parseInt(t.getAttribute("index"));let l;s.A.isGrid&&s.A.isMobile&&(s.A.globalStyle.textContent+="#trustoo-review-detail .review-row-one .reviews-date {display: none;}"),l=1!==s.A.userSetting.review_pagination_type||s.A.isWdoRevOpen||s.A.isMixReview&&!s.A.isHomePage?Math.ceil(n/s.A.userSetting.reviews_per_page_number)-1:(0,a.a)()-1,n-=1,n%=s.A.userSetting.reviews_per_page_number,s.A.revDetailInfo.page=l,s.A.revDetailInfo.no=n,s.A.revDetailInfo.imageIndex=r;const d=s.A.isWdoRevOpen?"trustoo_all_reviews":"trustoo_reviews",c=(0,o.gsSession)("get",d)[l][n];TTRevDetail.showTTReviewDetail(s.A,"",c,d)}else i.contains("display-text")?function(t){t.parentNode.querySelector(".remain-text").removeAttribute("hidden");const e=t.getAttribute("index"),i=t.getAttribute("cardno");t.style.display="none",s.A.isGrid&&(0,r.FS)(e,i)}(e):(i.contains("tt-helpful")||i.contains("tt-unhelpful"))&&h(e,i)})),i&&(0,c.B4)();s.A.iObserver||(s.A.iObserver=new IntersectionObserver((t=>{for(const e of t)if(e.isIntersecting&&!s.A.allRevLoadLock&&(s.A.isRevPage||s.A.isWdoRevOpen)){const t=e.target.parentNode,i=parseInt(t.getAttribute("review-page-count"));parseInt(t.getAttribute("reviews-page-no"))<i&&(s.A.allRevLoadLock=!0,(0,o.$dqs)(".loader",t).style.display="block",(0,a.a)(1),v(!1))}}),{}));let d=null;s.A.isWdoRevOpen?d=(0,o.$dqs)("#reviews-footer",s.A.wdoRevDom):s.A.isRevPage&&(d=(0,o.$dqs)("#reviews-footer",s.A.reviewsDom));d&&s.A.iObserver.observe(d)}(),i?(0,d.my)():0===Object.keys(s.A.allRatingData||s.A.ratingData).length&&0===Object.keys(s.A.ratingData).length||E(),s.A.isFirstPageRender&&(!function(){s.A.firstPageShow=!0,s.A.isWdoRevOpen&&(s.A.isWdoRevFirstPageRendered=!0),!s.A.isShowRevClick&&s.A.isCssLoaded&&s.A.reviewsDom&&(s.A.isGrid&&s.A.layoutReviewCount>15?setTimeout((()=>{s.A.reviewsDom.classList.remove("pending")}),100):s.A.reviewsDom.classList.remove("pending"));s.A.isActWdoRev&&!s.A.isWdoRevOpen&&s.A.isInsertRev&&(0,d.qM)();1!==s.A.userSetting.is_qa_active||s.A.isWdoRevOpen||s.A.isMixReview||setTimeout((()=>{(0,o.$dqs)(".tt-qa-list",s.A.reviewsDom)||b()}),500);"undefined"!=typeof trustooAfterExecute&&trustooAfterExecute(s.A,l.A)}(),s.A.isFirstPageRender=!1)}function q(t){const{lang:e}=s.A,{isNoWriteBtn:i}=l.A;s.A.isNullRev=!0,s.A.firstPageShow=!0;let r="";["ar","he"].includes(Review.lang)&&(r=" trustoo-rtl");let a="";2!==s.A.userSetting.is_show_review_button&&(a=`<button class="noreviews-button" type="button"  style="display: ${i?"none":"inline-block"};">\n  ${e.write_reviews} </button>`);const d=(0,n.getTotalStarString)(0);S(`  <div id="noreviews-wrapper">  <div id="vstar-noreviews" class="trustoo-widget ${r} pending">\n          \n      <div class="noreviews-title">${e.customer_reviews}</div>\n      <div class="noreviews-center">\n          <div class="nostar-wrapper">\n              <div class="noreviews-nostar vstar-star">\n                  ${d}\n              </div>\n          </div>\n          <p class="noreviews-text">${e.no_reviews}</p>\n      </div>\n      ${a}\n      </div> </div>`,t);const c=(0,o.$dqs)("#vstar-noreviews");2!==s.A.userSetting.is_show_review_button&&(0,o.$dqs)(".noreviews-button",c).addEventListener("click",(function(){k(),(0,n.processRecordedData)("reviews_click")})),s.A.reviewsDom=c,M()}function S(t,e,i="beforebegin"){let n=!1;const{isWdoRevOpen:a,isWdoRevExist:d}=s.A;let c;const p=document.getElementById("seal-review-widget"),u=(0,o.$dqs)(".pagefly-review-widget-sealapp"),v=(0,o.$dqs)(".custom-vstar-review-widget");if(a&&!d)s.A.isWdoRevExist=!0,c=e,i="afterbegin";else if(u)c=u,i="beforeEnd";else if(v)c=v,null===v.parentNode.offsetParent&&(n=!0),i="beforeEnd";else if(p)p.parentNode.parentNode.style.padding=0,c=p,i="beforeEnd";else{let t=null,r=l.A.get_move_review_info;Object.keys(r).length?(61244833988===s.A.shop_id&&130299592900===s.A.themeId&&s.A.isMobile&&(r.selector+=">.sf__accordion-content"),t=(0,o.$dqs)(r.selector),i=r.position,n=1===r.is_tab_review):e&&(t=e);let a=(0,o.$dqs)("#shopify-section-footer"),d=(0,o.$dqs)("main"),p=(0,o.$dqs)("footer"),u=(0,o.$dqs)('.shopify-section[id$="__main"],#shopify-section-product-template');t?c=t:u?(i="afterend",c=u):d?d.contains(p)?c=p:(i="afterend",c=d):a?c=a:p&&(c=p)}c&&(c.insertAdjacentHTML(i,t),!a&&(s.A.revTar=c),s.A.revTarWid=parseInt(window.getComputedStyle(c).width),n&&!s.A.isNullRev&&function(){let t=(0,o.$dqs)(".custom-vstar-review-widget,#reviews-wrapper");if(t){t=t.parentNode;const e={attributes:!0},i=function(t,e){for(let i of t)null!==i.target.offsetParent&&(E(),s.A.isGrid&&((0,r.dn)(),e.disconnect()))};(0,o.setObserve)(t,e,i,s.A)}}())}function k(){const t=(0,o.$dqs)(".trustoo-write-review");if("undefined"!=typeof tt_customer){const e=(0,o.$dqs)('[input-type="author"],.slide-name',t),i=(0,o.$dqs)('[input-type="author_email"],.slide-email',t);e&&i&&(e.value=tt_customer.name,i.value=tt_customer.email,1===s.A.writeForm?(0,x.PT)():2===s.A.writeForm&&(0,C.yS)())}else if(s.A.isLoginWrite)return void(location.href=location.origin+"/account/login");document.body.classList.add("trustoo-open"),T(),(0,o.$dqs)("#trustoo-mask").style.display="flex",1===s.A.writeForm?((0,o.$dqs)(".head-title",t).textContent=s.A.lang.all_in_one_from.write_reviews,(0,o.$dqs)(".feedback-area>.tt-input-title",t).textContent=s.A.lang.all_in_one_from.review,(0,o.$dqs)(".form-submit",t).textContent=s.A.lang.submit):2===s.A.writeForm&&setTimeout((()=>{const t=(0,o.$dqs)("#trustoo-mask>.trustoo-power");if(t&&(t.style.display="block",t.getAttribute("unadjusted"))){var e=document.querySelector("#trustoo-slide").getBoundingClientRect();t.style.left=e.left+e.width/2+"px",t.style.top=e.bottom+5+"px",t.removeAttribute("unadjusted")}}),0),t.style.display="block",t.setAttribute("write-review",!0)}function T(){if(s.A.isMobile){let t=window.location.hash;t.includes("tt-write-reviews-open")||(window.location.hash=t?t+"&tt-write-reviews-open":"tt-write-reviews-open"),window.addEventListener("hashchange",L)}}function L(){-1===window.location.hash.indexOf("tt-write-reviews-open")&&(1===s.A.writeForm?(0,x.Do)():2===s.A.writeForm&&(0,C.oD)(),window.removeEventListener("hashchange",L))}function E(){const t=s.A.reviewsDom,e=(0,o.$dqs)(".head-button",t),i=(0,o.$dqs)(".head-center",t),n=(0,o.$dqs)(".head-left",t),r=(0,o.$dqs)("#reviews-head",t);s.A.revTarWid=parseInt(getComputedStyle(s.A.revTar).width),s.A.revTarWid<678&&!s.A.isMobile&&(0,o.getWindowWidth)()>768?(s.A.globalStyle.textContent+="#vstar-reviews .list-review{padding:30px 10px !important}\n    #vstar-window-review .list-review{padding:30px 40px !important}",i&&(i.style.left="200px",i.style.bottom="80px",i.style.marginLeft="30px"),n.style.marginLeft="10px",t.style.padding=t.parentNode.style.padding=0,(0,o.$dqs)(".tt-head-right",t).style.cssText="padding: 30px 0 0;"):(t.style.cssText="",i&&(i.style.cssText=""),e&&(e.style.cssText=""),n&&(n.style.cssText=""),r.style.cssText="")}function P(){const t=s.A.lang;let e="",i="",n="";const o=["image-descending","commented-at-descending","rating-descending","rating-ascending"],r=o.indexOf(s.A.userSetting.review_sort_by);o.forEach(((s,o)=>{i="",o===r&&(i="active",n=t.sort_by_options[o]),e+=`<li index="${o}" sort-value="${s}" class="sort-item ${i}">${t.sort_by_options[o]}</li>`}));const a=35*r+53+"px";return{text:n,html:`<div class="sort-popup">\n\t<ul class="sort-list">\n\t\t<li class="sort-title">${t.sort_by}</li>\n\t\t${e}\n\t</ul>\n\t<div class="sort-active" style="top:${a}">${p.A.hook()}\n\t</div>\n</div>`}}function I(){!s.A.RevIntersection&&s.A.isProPage&&(s.A.RevIntersection=new IntersectionObserver((t=>{for(const e of t)e.isIntersecting&&((0,n.processRecordedData)("reviews_view"),s.A.RevIntersection.disconnect())}),{})),s.A.RevIntersection.observe(s.A.reviewsDom)}function M(){let t=Review.theme.theme_store_id,e="";if(s.A.isProPage){switch(t){case 887:case 1567:case 1356:case 1363:case 1368:case 1431:case 1434:case 1500:case 1499:case 796:case 775:case 829:e="page-width";break;case 730:case 679:case 380:e="wrapper";break;case 578:e="site-wrapper";break;default:if("warehouse"===Review.theme.name){s.A.reviewsDom.parentNode.classList.add("container");(0,o.$dqs)(".card--collapsed.card--sticky.card")&&(s.A.reviewsDom.classList.add("card"),s.A.globalStyle.textContent+="#vstar-reviews.card{border:none !important}")}else s.A.isMobile||(s.A.globalStyle.textContent+="#vstar-reviews{max-width:1200px;padding: 0 40px;}")}if(""!=e){const t=(0,o.$dqs)("."+e);if(s.A.isNullRev&&t){const e=getComputedStyle(t).paddingRight;s.A.globalStyle.textContent+=`#vstar-noreviews button.noreviews-button {right:${e}}`}s.A.reviewsDom.classList.add(e)}}else s.A.isMobile||(s.A.globalStyle.textContent+="#vstar-reviews{max-width:1200px;padding: 0 40px;}")}const O=(0,o.debounce)((()=>{s.A.isGrid&&s.A.isRevOpen&&(0,r.dn)()}),200);(0,o.debounce)((async()=>{const t=s.A.reviewsDom,e=getReviewWidth();s.A.wrapWid=e;let i=0;s.A.revTar&&(i=parseInt(getComputedStyle(s.A.revTar).width),s.A.revTarWid=i),!s.A.isMixReview&&E(),0!=e&&(t.style.width=i<678&&0!==i?s.A.revTarWid+"px":e+"px")}),100)},45:(t,e,i)=>{i.d(e,{P9:()=>A,oD:()=>w,yS:()=>g});var s=i(571),n=i(957),o=i(638),r=i(986),a=i(336),l=i(357);let d=0,c=588,p=!1,u="",v="",g=null;function A(t){s.A.isMobile&&(c=window.innerWidth);const e=s.A.lang.separate_review_form,i=s.A.lang.separate_review_form.discount_setting,a=t.discount_setting;if(1==a.discount_for_photo_reviews&&(1===a.discount_for_reviews_form||2===a.discount_for_reviews_form&&"undefined"!=typeof isEmailWrite)){for(let t in i)i[t]=i[t].replace("{{Discount_amount}}",a.discount_value);1===a.discount_incentive_conditions?u=`<div class="discount-tip">${i.tip_3}</div>`:2===a.discount_incentive_conditions&&(v=`<div class="upload-desc">${i.tip_1}</div>`)}if(""!==u){let t=374;s.A.isMobile&&(t+=20),s.A.globalStyle.textContent+=`#trustoo-slide, .write-review-slide {\n\t\t\theight: ${t}px !important;\n\t}`}let A=1===t.enabled_add_video?`\n    <div class="slide-separate">\n      <span class="slide-line"></span><span class="slide-or">${e.or}</span><span class="slide-line"></span>\n    </div>\n    <div class="upload-file">\n      <span>${e.add_video}</span> \n      <input class="upload-input tt-video-uploader" type="file" accept=".mp4,.mkv,.mov,.avi,.flv,.ts,.ps,.mxf,.lxf,.gxf,.3gp,.webm,.mpg,.quicktime">\n    </div> \n  `:"",f="";1!==s.A.userSetting.is_del_powered&&(f=`<div class="trustoo-power" unadjusted="no"> Powered by <a class="redirect" href="https://www.trustoo.io/" target="_blank">Trustoo.io </a> <span class="line"></span><a class="tt-power-cw" href="https://www.channelwill.com/" target="_blank">${l.A.cw}</a></div>`);const _=`\n    <div id="trustoo-slide" class="trustoo-write-review trustoo-widget">\n    <div class="write-review-container" style="left:0px">\n      <div class="write-review-slide active" index="0">\n          <div class="window-close tt-write_review_close"></div>\n        <div class="slide-title">${e.slide_1_title}</div>\n        <div class="slide-options">\n          <div class="slide-option" rating="5"><div class="stars">${(0,o.getTotalStarString)(5,16,2,!1)}</div>${e.rating_options[0]}</div>\n          <div class="slide-option" rating="4"><div class="stars">${(0,o.getTotalStarString)(4,16,2,!1)}</div>${e.rating_options[1]}</div>\n          <div class="slide-option" rating="3"><div class="stars">${(0,o.getTotalStarString)(3,16,2,!1)}</div>${e.rating_options[2]}</div>\n          <div class="slide-option" rating="2"><div class="stars">${(0,o.getTotalStarString)(2,16,2,!1)}</div>${e.rating_options[3]}</div>\n          <div class="slide-option" rating="1"><div class="stars">${(0,o.getTotalStarString)(1,16,2,!1)}</div>${e.rating_options[4]}</div>\n        </div>\n\t\t\t\t${u}\n      </div>\n      <div class="write-review-slide" index="1">\n        <div class="slide-title">${e.slide_2_title}</div>\n        <div class="slide-desc">${e.slide_2_subtitle}</div>\n        <div class="slide-upload">\n          ${v}\n          <div class="upload-file">\n            <span>${e.add_photo}</span> \n            <input class="upload-input tt-image-uploader" type="file" accept=".gif,.jpeg,.jpg,.png">\n          </div>\n          ${A}\n        </div>\n        <button class="back-slide slide-button">${e.back}</button>\n        <button class="slide-skip next-slide">${e.skip}</button>\n      </div>\n      <div class="write-review-slide" index="2">\n        <div class="upload-file-tip"></div>\n        <div class="slide-title">${e.slide_3_title}</div>\n        <textarea maxLength="${s.A.newRevCharLimit}" class="slide-content" cols="30" rows="10" placeholder="${e.content_from_placeholder}"></textarea>\n        <button class="back-slide slide-button">${e.back}</button>\n        <button class="slide-next next-slide" disabled>${e.next}</button>\n      </div>\n      <div class="write-review-slide" index="3">\n        <div class="slide-title">${e.slide_4_title}</div>\n        <input type="text" maxLength="50" class="slide-name slide-input" placeholder="${e.your_name}">\n        <input type="text" class="slide-email slide-input" placeholder="${e.email}">\n        <button class="back-slide slide-button">${e.back}</button>\n        <button class="slide-done next-slide" disabled>${e.done}</button>\n      </div>\n      <div class="write-review-slide" index="4">\n\t\t\t\t\t<div class="slide-title">${e.slide_5_title}</div>\n\t\t\t\t\t<div class="slide-desc">${e.slide_5_subtitle}</div>\n\t\t\t\t\t<div class="slide-discount" style="display:none">\n\t\t\t\t\t\t<span class="discount-code"></span>\n\t\t\t\t\t\t<span class="discount-copy">${e.discount_setting.copy}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class="slide-finish next-slide">${e.continue}</button>\n      </div>\n    </div>\n  </div>\n\t${f}\n  `;(0,r.$dqs)("#trustoo-mask").insertAdjacentHTML("beforeend",_);const y="undefined"!=typeof Review&&["ar","he"].includes(Review.lang)?"#trustoo-slide .slide-content,#trustoo-slide .slide-input {\n\t\tdirection: rtl;\n\t}":"";if(s.A.globalStyle.textContent+=`\n\t.trustoo-write-review{\n\t\t--button-bd-color: ${t.review_button_background_color};\n\t\t--button-text-color: ${t.review_button_text_color};\n\t}${y}\n\t`,function(){const t=(0,r.$dqs)("#trustoo-slide");s.A.slide=t,(0,r.$dqs)(".window-close",t).onclick=function(){w()},(0,r.$dqsa)(".slide-option",t).forEach((t=>{t.onclick=function(){s.A.ratingVal=t.getAttribute("rating"),h()},t.onmouseover=function(){t.classList.add("active")},t.onmouseout=function(){t.classList.remove("active")}})),(0,r.$dqs)(".upload-input.tt-image-uploader",t).onchange=async function(){const t=this.files[0],e=this.getAttribute("accept").split(",").map((t=>t.slice(1))),i=t.name.split(".").pop();if(!e.includes(i.toLowerCase()))return(0,r.setToast)(s.A.lang.error_tip),!1;if(s.A.uploadType=1,(0,r.$dqs)(".upload-file-tip").style.display="block",(0,r.$dqs)(".upload-file-tip").innerHTML='<span class="tt-upload_image_loading"></span>Uploading',h(),!Object.keys(s.A.uploadImgInfo).length){const t=await n.zG.getPolicyToken();s.A.uploadImgInfo=t[1]}const o=this;n.zG.uploadImg(t).then((t=>{null===t[0]&&((0,r.$dqs)(".upload-file-tip").innerHTML='<div class="tt-upload_image_over"></div>',s.A.mediaUrl[0]={url:t[1].key},o.value="")}))};const e=(0,r.$dqs)(".tt-video-uploader",t);e&&(e.onchange=async function(){const t=this.files[0],o=this.getAttribute("accept").split(",").map((t=>t.slice(1))),a=t.name.split(".").pop();if(!o.includes(a.toLowerCase()))return(0,r.setToast)(s.A.lang.error_tip),!1;if(parseInt(t.size/1048576)>=200)return(0,r.setToast)("The file cannot exceed 200MB"),!1;(0,r.$dqs)(".upload-file-tip").style.display="block",(0,r.$dqs)(".upload-file-tip").innerHTML='<span class="tt-upload_image_loading"></span>Uploading',h(),s.A.uploadType=2,p=!0;const l=(0,r.$dqs)(".slide-done");l.setAttribute("disabled",!0),n.zG.getUploadVideoUrl().then((o=>{const{upload_url:a,domain:d}=o[1],c=o[1].video_service_uid;n.zG.uploadVideo(a,t).then((()=>{const t=d+"/"+c;i(l,"success"),(0,r.$dqs)(".upload-file-tip").innerHTML='<div class="tt-upload_image_over"></div>',s.A.mediaUrl[0]={url:t+"/iframe"}})).catch((()=>{e.value="",i(l,"fail")}))})).catch((()=>{e.value="",i(l,"fail")}))});function i(t,e){(0,r.$dqs)(".upload-file-tip").innerHTML="",p=!1,g(),3===d&&(t.textContent=s.A.lang.separate_review_form.done),"fail"===e&&(0,r.setToast)(s.A.lang.error_tip)}const o=(0,r.$dqs)(".slide-content",t),a=(0,r.$dqs)(".slide-next",t);o.oninput=function(){""!==this.value?a.removeAttribute("disabled"):a.setAttribute("disabled",!0)},o.onblur=function(){""===this.value&&a.setAttribute("disabled",!0)};const l=/^[a-zA-Z0-9_-]+(\.[A-Za-z0-9_-]+)*@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,u=(0,r.$dqsa)("input.slide-input",t),v=(0,r.$dqs)(".slide-done",t);g=(0,r.debounce)((function(){let e=!1,i=!1;if(""!==u[1].value){const e=(0,r.$dqs)(".input-tip",t);l.test(u[1].value)?(i=!0,e&&(0,r.$dqs)(".input-tip",t).remove()):e||u[1].insertAdjacentHTML("afterend",`<div class="input-tip">\n            <span class="tt-error_tip"></span><span>${s.A.lang.email_error}</span>\n          </div>`)}""!==u[0].value&&(e=!0),e&&i&&!p?v.removeAttribute("disabled"):v.setAttribute("disabled",!0)}),300),u.forEach((t=>{t.oninput=g,t.onblur=function(){""!==u[0].value&&""!==u[1].value||v.setAttribute("disabled",!0)}})),(0,r.$dqs)(".discount-copy",t).onclick=function(){(0,r.setCopy)((0,r.$dqs)(".discount-code",t))},(0,r.$dqsa)(".back-slide",t).forEach((t=>{t.onclick=function(){const t=(0,r.$dqs)(`.write-review-slide[index="${d}"]`);m(t,t.previousElementSibling),d--,(0,r.$dqs)(".write-review-container").style.left=(parseInt(t.getAttribute("index"))-1)*-c+"px"}})),(0,r.$dqsa)(".next-slide",t).forEach((e=>{e.onclick=function(){if(e.classList.contains("slide-next")&&p&&(v.textContent=s.A.lang.separate_review_form.uploading_video_tip),e.classList.contains("slide-finish")){w(),d=0,(0,r.$dqsa)(".slide-discount",t).forEach((t=>t.style.display="none")),(0,r.$dqs)(".write-review-slide.active").classList.remove("active"),(0,r.$dqs)('.write-review-slide[index="0"]').classList.add("active"),(0,r.$dqs)(".write-review-container").style.left=0;const e=(0,r.$dqs)("#trustoo-mask>.trustoo-power");e&&(e.style.display="none")}else e.classList.contains("slide-done")?(e.innerHTML="",(0,r.setLoading)(e),function(){const t={},e=s.A.slide;s.A.ip&&(t.ip=s.A.ip,t.author_country=s.A.loc);const i=(0,r.$dqs)(".slide-name",e),o=(0,r.$dqs)(".slide-email",e),a=(0,r.$dqs)(".slide-content",e);t.author=i.value,t.author_email=o.value,t.content=a.value,s.A.isLinkReqRev?"undefined"==typeof isEmailWrite&&(t.review_source=1):t.review_source=0;n.zG.uploadReview(t,s.A.uploadType,s.A.mediaUrl).then((t=>{if(t[0]){let e="";e=-2===t[0].code?t[0].error:s.A.lang.error_tip,(0,r.setToast)(e)}else{const n=s.A.lang.separate_review_form,l=t[1].discount_code;if(l){const t=n.discount_setting;(0,r.$dqs)('.write-review-slide[index="4"] .slide-title',e).textContent=t.title,(0,r.$dqs)('.write-review-slide[index="4"] .slide-desc',e).textContent=t.subtitle,(0,r.$dqs)(".slide-discount",e).style.display="flex",(0,r.$dqs)(".discount-code",e).textContent=l}h(),(0,r.$dqsa)(".slide-next,.slide-done",e).forEach((t=>t.setAttribute("disabled",!0))),(0,r.$dqs)(".upload-file-tip",e).innerHTML="",i.value=o.value=a.value="",s.A.mediaUrl=[],s.A.isLinkReqRev&&(window.history.replaceState({},"",location.href.replace("?req=review","")),s.A.isLinkReqRev=!1)}(0,r.$dqs)(".slide-done",e).innerHTML=s.A.lang.separate_review_form.done}))}()):h()}}))}(),s.A.isLinkReqRev){document.body.classList.add("trustoo-open"),(0,r.$dqs)("#trustoo-mask").style.display="flex",(0,r.$dqs)(".trustoo-write-review").style.display="block";const t=(0,r.$dqs)("#trustoo-mask .trustoo-power[unadjusted]");if(t.style.display="block",t.getAttribute("unadjusted")){var b=document.querySelector("#trustoo-slide").getBoundingClientRect();t.style.left=b.left+b.width/2+"px",t.style.top=b.bottom+5+"px",t.removeAttribute("unadjusted")}}}function w(){(0,r.$dqs)("#trustoo-mask").style.display="none",(0,r.$dqs)("#trustoo-slide").style.display="none";const t=(0,r.$dqs)("#trustoo-mask>.trustoo-power");t&&(t.style.display="none"),document.body.classList.remove("trustoo-open"),window.removeEventListener("hashchange",a.FP),-1!==window.location.hash.indexOf("tt-write-reviews-open")&&window.history.replaceState({},document.title,window.location.href.replace("#tt-write-reviews-open",""))}function h(){const t=(0,r.$dqs)(`.write-review-slide[index="${d}"]`);m(t,t.nextElementSibling),d++,(0,r.$dqs)(".write-review-container").style.left=(parseInt(t.getAttribute("index"))+1)*-c+"px"}function m(t,e){t.classList.remove("active"),e.classList.add("active")}},220:(t,e,i)=>{i.d(e,{my:()=>d,qM:()=>l});var s=i(986),n=i(571),o=i(638),r=i(336);let a=null;function l(){let t=`<div id="vstar-tab" ${n.A.isCssLoaded?"":'style="display:none"'} >${n.A.userSetting.sidetab_setting.sidetab_button_text}</div>`;!(0,s.$dqs)("#vstar-tab")&&document.body.insertAdjacentHTML("beforeend",t),(0,s.$dqs)("#window-review-mask")||(document.body.insertAdjacentHTML("beforeend",'<div class="mask window-review-mask" style="display:none">\n  <div id="vstar-window-review"></div></div>'),a=(0,s.$dqs)(".window-review-mask"),a.onclick=function(t){(0,s.$dqs)("#vstar-window-review").contains(t.target)||c()}),(0,s.$dqs)("#vstar-tab").onclick=function(){if(n.A.isWdoRevOpen=!0,document.body.classList.add("trustoo-open"),a=(0,s.$dqs)(".window-review-mask"),a.style.display="block",n.A.isProPage&&(0,o.processRecordedData)("reviews_click"),!n.A.isWdoRevExist&&(n.A.wdoRev.node=(0,s.$dqs)("#vstar-window-review"),n.A.isActWdoRev)){let t={};t.tarNode=n.A.wdoRev.node,t.position="afterbegin",(0,r.Gs)(t),(0,o.insertReviewDetail)()}}}function d(){(0,s.$dqs)(".window-close",n.A.wdoRev.node).onclick=function(){c()}}function c(){n.A.isWdoRevOpen=!1,a.style.display="none",document.body.classList.remove("trustoo-open")}},134:(t,e,i)=>{i.d(e,{A:()=>a});var s=i(957),n=i(986),o=i(571);const r=function(){const t={};switch(o.A.shop_id){case 55363502159:o.A.isHomePage&&(t.customCollTarSel=".h1.product__title,.card__heading.h5>.full-unstyled-link");break;case 64402030811:o.A.isHomePage&&(t.customCollTarSel='.glide-wrapper.glider-slide [data-product-type="title"]');break;case 59471560866:t.homeStarDelay=2e3,o.A.isHomePage&&(t.customCollTarSel=".prod-thumb-title-color>a")}return t},a={get_move_review_info:{},custom_style_info:{},star_insert_adaptation_info:{},user_needs_solutions_info:{},bigRatingDigits:2,isOpenRecStars:!0,isShowRevVerified:!0,customRatingText:"",showRelatedPros:!1,setUserNeed(){const{shop_id:t}=Review;if(55420682445===t)o.A.isProPage&&document.body.addEventListener("click",(function(t){t.target.classList.contains("reviews-text")&&"P"===t.target.tagName&&(0,n.$dqs)(".breadcrumb_pr_wrap").scrollIntoView({behavior:"smooth",block:"start"})}));Object.assign(this,r())},setPageReview(t){let e=window.location.href,i=e.indexOf("pages/")+6,s=e.substring(i);const r=(0,n.$dqs)(".custom-vstar-review-widget,#vstar-all-reviews");if(r&&"vstar-all-reviews"===r.id&&(o.A.isRevPage=!0),o.A.allRev=r,[49048256661,62366974136,23928713].includes(t)||r||"reviews"===s){(["clienti-soddisfatti","shop-reviews","review-page","producto-mini","avis-menviking"].includes(s)||"reviews"===s||r&&"vstar-all-reviews"===r.id||r&&"custom-vstar-review-widget"===r.className&&!o.A.productId)&&(this.isPageReview=!0)}},async getUserNeedData(){const{pageType:t,themeId:e}=o.A,i=this;if(o.A.isHomePage||o.A.isProPage||o.A.otherPageColl||o.A.isCollPage||i.isPageReview){let n,o;if("undefined"!=typeof vstar_custom_info?(n=vstar_custom_info,o=null):[o,n]=await s.zG.getUserNeed(),null===o){for(let s in n){const o=n[s].list;if(0!==o.length)for(let n=0;n<o.length;n++){const r=o[n],a=r.page||r.target_page,l=r.theme_id;a&&-1===a.indexOf(t)&&"all"!==a||(l&&e!=l||(0!==Object.keys(i[s]).length||0===Object.keys(i[s]).length)&&(i[s]=r))}}if(i.star_insert_adaptation_info){const t=i.star_insert_adaptation_info;t.product_detail_star&&(i.customProTarSel=t.product_detail_star),t.product_list_star&&(i.customCollTarSel=t.product_list_star)}}}}}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var o=e[s]={id:s,exports:{}};return t[s](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t=i(986),e=i(571),s=i(957),n=i(429),o=i(638),r=i(336),a=i(134),l=i(778),d=i(220),c=i(163),p=i(72),u=i.n(p),v=i(825),g=i.n(v),A=i(659),w=i.n(A),h=i(868),m=i.n(h),f=i(540),_=i.n(f),y=i(113),b=i.n(y),$=i(472),x={attributes:{id:"trustoo-insert-css"}};x.styleTagTransform=b(),x.setAttributes=m(),x.insert=w().bind(null,"head"),x.domAPI=g(),x.insertStyleElement=_();u()($.A,x);$.A&&$.A.locals&&$.A.locals;let C=0,R=0,q=null;async function S(){C=0;let i=null,n="afterend";const r=(0,t.$dqs)("#trustoo-buyers-show-widget");if("undefined"==typeof vstar_buyers_show_settings||e.A.isSettingUpdate){i=(await s.zG.getBuyerShowsSettings())[1]}else i=vstar_buyers_show_settings;if(!(i&&1===i.is_activated||r))return;if(e.A.bsInsertSelector)q=(0,t.$dqs)(e.A.bsInsertSelector),n="afterend";else if(r)q=r,n="afterbegin";else if(null!==(0,t.$dqs)("product-form.product-form")||[1499,1567,1356,1363,1368,1434,887,1500,1431,1841,1891].includes(e.A.theme_store_id))q=(0,t.$dqs)("product-form.product-form").parentNode;else{let i="";switch(e.A.theme_store_id){case 829:i=".product__form-wrapper";break;case 775:case 796:case 578:i="form.product-form";break;case 730:i="form.product-single__form";break;case 679:i="form.addToCartForm";break;case 380:i="form.product-form--wide";break;default:i="warehouse"===Review.theme.name?"form.product-form":"Tema-plano-ouro-ldo"===Review.theme.name?".product-form__payment-container":"form[id^=AddToCartForm],form.product-form,product-form.product-form,form[id^=product_form]"}i&&(0,t.$dqs)(i)?q=(0,t.$dqs)(i):e.A.buyersShowTip="买家秀嵌入失败"}C++,R=i.columns_count*i.rows_count;const a=1/i.columns_count*100+"%",l=document.createElement("style");document.head.appendChild(l),e.A.is=l,q||(q=(0,t.$dqs)(".product-form")),e.A.insHoverColor=i.hover_text_color;const d=await async function(i){e.A.buyersShowType=2===i?1:2;const n=(await s.zG.getProRevList("image-descending",0,C,R,e.A.buyersShowType,!0))[1];e.A.lastPageSize||(e.A.lastPageSize=n.count%R,e.A.total_page=n.total_page);const o=n.list,r=JSON.parse((0,t.gsSession)("get","tt_detail_reviews"));r.trustoo_show_reviews.push(o),(0,t.gsSession)("set","tt_detail_reviews",JSON.stringify(r)),1===C&&(e.A.insPageCount=n.total_page);let a="";return o.forEach(((t,e)=>{if(0===t.resources.length||!t.resources[0].src&&!t.resources[0].thumb_src)return;const i=t.resources[0].src||t.resources[0].thumb_src;a+=`<div class="tt-wrapper">\n      <div class="review-item" index="${C-1+"-"+e}" style="background-image:url(${i})">\n      </div>\n    </div>`})),a}(i.reviews_type);if(""===d)return;const c=`<div id="tt-bs-area" style="display:none"  class="trustoo-widget">\n  <div class="tt-bs-title">${e.A.lang.buyers_shows}</div>  \n  <div id="tt-bs-list">\n  </div>\n</div>`;q.insertAdjacentHTML(n,c);const p=(0,t.$dqs)("#tt-bs-list");d?(p.insertAdjacentHTML("beforeend",d),e.A.isInsertBS=!0,(0,o.insertReviewDetail)()):e.A.isNoPost=!0,p.onclick=i=>{if("review-item"===i.target.className){const[s,n]=i.target.getAttribute("index").split("-"),r=JSON.parse((0,t.gsSession)("get","tt_detail_reviews")).trustoo_show_reviews;(0,o.processRecordedData)("reviews_click"),TTRevDetail.showTTReviewDetail(e.A,"",r[s][n],"trustoo_buyers_show")}},l.textContent+=`\n  #tt-bs-area .tt-bs-title{color:${i.title_text_color};font-size:${i.title_font_size}px;text-align:${i.title_align}}\n    #tt-bs-list .tt-wrapper{flex-basis:${a};padding:${i.item_padding}px;}\n    #tt-bs-list .review-item{border-radius:${i.border_radius}px;}\n    `,(0,t.$dqs)("#tt-bs-area").style.display="block"}var k=i(877);async function T(i){let c,p,u;const{isActWdoRev:v,globalStyle:g,isHomePage:A,isProPage:w,isCartPage:h,isCollPage:m,hasPyRating:f,hasEcomRt:_}=e.A,{pageType:y,isMobile:b}=Review;await a.A.getUserNeedData();const{isCollReview:$,isCollStartDelay:x,isPageReview:C,reviewsPageCount:R,homeStarDelay:q,isCollRevWord:T}=a.A;Review.is_install=i.is_install,Review.is_product_open=i.is_activate_product_rating,Review.is_reviews_open=i.is_activate_reviews,Review.is_collection_open=i.is_activate_collection_rating,Review.is_activate_home_rating=i.is_activate_home_rating,Review.is_show_stars_without_review=i.is_show_stars_without_review,Review.theme_version=i.theme_version,e.A.userSetting=i,e.A.revHeadType=1===i.is_hide_ratings?2:1,(0,t.$dqs)("#trustoo-mask")||document.body.insertAdjacentHTML("beforeend",'<div id="trustoo-mask" style="display:none"></div>');let L=i;Review.lang=Shopify.locale;const E="collection"!=y||$||v||C;if(E){let s=!1,n=!1;1==i.layout?(c="list-",u=3,s=!0):2==i.layout&&(c="grid-",u=5,n=!0,e.A.gridLoadedShowImg=0,e.A.gridShowImgCount=0),p=L.reviews_per_page_number,R&&(p=R),(0,t.returnCitySN)(e.A),Object.assign(e.A,{layoutClass:c,layoutReviewCount:p,reviewsRow:u,globalStyle:g,isGrid:n,isList:s})}if((E||T)&&await async function(t){const i=["ar","bg","cs","da","de","el","en","es","ar","bg"].concat(["cs","da","de","el","en","es","et","fi","fr","he"]).concat(["hr","hu","id","it","ja","ka","lt","lv","ms","nl"]).concat(["no","pl","pt","ro","sk","sl","sv","th","tr","zh-TW"]);i.push("zh-CN","pt-PT");let n=!0;if(1===t.auto_switch_language){const e=Shopify.locale;["zh-TW","zh-CN","pt-PT"].includes(e)?Review.lang=e:Review.lang=e.split("-")[0],i.includes(Review.lang)?Review.lang!==t.language&&(n=!1):Review.lang=t.language}else Review.lang=t.language;let o,r,a="undefined"!=typeof vstar_lang_json;a&&n&&!e.A.isSettingUpdate?(o=null,r=vstar_lang_json):([o,t]=await s.zG.getLang(),null===o?r=JSON.parse(t.lang_json):a&&(r=vstar_lang_json));null===o&&r&&(r.show_full_review&&(e.A.ellipsisText=r.show_full_review),45159514262===e.A.shop_id&&"es"===Review.lang&&(r.reply="Respuesta"),Object.assign(e.A,{lang:r}))}(i),function(i,s){let n=`.vstar-star{--star-color:${e.A.userSetting.star_color};\n\t--nostar-color:${e.A.userSetting.nostar_color};}`;if(s){const s=i.font_color;let o=i.box_bg_color;const r=e.A.theme_store_id;1356!==r&&1567!==r||"#FFFFFF"===o&&(o="rgba(0,0,0,0)");let a=i.border_radius+"px";1356===r?a="10px":1567===r?a="40px":1368===r&&(a="6px");const l="Dark"===i.card_shadow?"1px 1px 6px rgba(0, 0, 0, 0.1)":"0px 0px 3px rgba(0, 0, 0, 0.2)";if(n+=`\n        #reviews-wrapper,#noreviews-wrapper,#vstar-reviews,\n        #vstar-noreviews{\n          background-color: ${o};\n          --font-color: ${s};\n          --font-color-o4: ${(0,t.hexToRgba)(s,.4)};\n          --font-color-o7: ${(0,t.hexToRgba)(s,.7)};\n          --font-color-o8: ${(0,t.hexToRgba)(s,.8)};\n\t\t\t\t\t--font-size:${i.font_size}px;\n          --bg-color:${o};\n          --badge-text-color:${i.badge_text_color};\n          --card-color:${i.card_bg_color};\n          --box-bg-color:${o};\n          --button-radius:${a};\n          --button-color:${i.button_color};\n          --button-bd-color:${i.button_bg_color};\n          --button-border-color:${i.button_border_color};\n\t\t\t\t\t--line-color:${i.dividing_line_color};\n\t\t\t\t\t--reply-bg-color:${i.reply_bg_color};\n        }\n\t\t\t\t.trustoo-widget{--sprites-image-url:url(https://${e.A.staticBaseUrl}/static/images/sprites/trustoo_sprites.png?${e.A.constructTime});}\n        #vstar-window-review,#vstar-window-review #reviews-wrapper,\n        #vstar-window-review #vstar-reviews{background-color: ${o.slice(0,7)};}\n        @media only screen and (min-width:768px) {\n          #reviews-wrapper.container #vstar-reviews {\n            max-width: initial;\n            padding: 0 40px;\n            border: 1px solid var(--border-color);\n          }\n        }\n        #vstar-reviews.pending>* {\n          opacity: 0 !important;\n        }\n\t\t\t\t#vstar-reviews #reviews-body .grid-review{\n\t\t\t\t\tbox-shadow: ${l};\n\t\t\t\t}\n\t\t\t\t#vstar-reviews #reviews-body .reviews-text{\n\t\t\t\t\tfont-size:${i.font_size}px;\n\t\t\t\t}\n        .product-icon-list i,#trustoo-allinone i,\n        .write-review-container i{font-size:16px}\n        #reviews-head i{font-size:20px}\n        `,i.qa_colors){const e=i.qa_colors.split(",");n+=`#vstar-reviews{--tab-title-color:${e[0]};\n\t\t\t\t\t--tab-title-line-color:${e[1]};\n\t\t\t\t\t--question-color:${e[3]};\n\t\t\t\t\t--question-color-o8: ${(0,t.hexToRgba)(e[3],.8)};\n\t\t\t\t}`}e.A.isGrid&&(n+=`.grid-review{background-color: ${i.card_bg_color}}\n      #vstar-reviews #reviews-body{margin-top:16px !important}`)}void 0!==a.A.custom_style_info.css_style_code&&(n+=a.A.custom_style_info.css_style_code);a.A.vstarCustomSty&&(n+=a.A.vstarCustomSty);e.A.globalStyle.insertAdjacentHTML("beforeend",n)}(i,E),f||_)(0,t.$dqs)(".pagefly-review-widget-sealapp,.custom-vstar-review-widget")||e.A.isHomePage&&1===i.is_activate_home_reviews?(shopifyObj.productId||(e.A.isMixReview=!0),e.A.isRevOpen=!0):e.A.isProPage&&1===i.is_activate_reviews&&(e.A.isRevOpen=!0),(0,o.setInsertTarget)(2),await(0,o.getTotalRating)();else if(w)e.A.isProRatingOpen=1===i.is_activate_product_rating,1==i.layout?((1==i.is_transparent||b)&&(i.is_transparent=0),L.card_bg_color=(0,t.hexToRgba)(i.card_bg_color,i.is_transparent)):L.card_bg_color=i.card_bg_color,S(),-1!==location.search.indexOf("req=review")&&(e.A.isLinkReqRev=!0),1===i.is_activate_reviews&&(e.A.isRevOpen=!0),await(0,o.getTotalRating)();else if(m||a.A.otherPageColl){2!==i.is_activate_collection_rating&&(x&&await(0,t.setDelay)(2e3),await(0,n.M0)(),0===Review.collTarget.length||(0,o.setInsertTarget)(2)),1===L.is_activate_reviews&&$&&(e.A.isMixReview=!0,(0,r.Gs)({}))}else if(A){let r,d,c="",p=[],{productId:u,productImages:v,productName:g}=e.A,A=!1;if(e.A.isHomeRatingOpen=1===i.is_activate_home_rating,1===i.is_activate_home_reviews){e.A.isRevOpen=!0,e.A.isHomeReview=A=!0;let[t,i]=await s.zG.getOnlyOneProduct();r=i,null===t&&r&&(u=r.product_id,g=r.product_title,v=r.image_src,c=r.product_handle)}if(1===i.is_activate_home_rating||A){if(await(0,l.rU)(),d=Review.proTarget,1===i.is_activate_home_rating){q&&await(0,t.setDelay)(q),await(0,n.M0)(),p=Review.collTarget;let e=p.length;1===e?p[0]===d?p.pop():(0,o.setInsertTarget)(2):0!==e&&((p.includes(d)||p[0].contains(d))&&(Review.proTarget=d=null),(0,o.setInsertTarget)(2))}if(!u&&d&&(g=Review.proTarget.textContent.replace(/\n/g,"").trim(),g)){let[t,e]=await s.zG.getProductInfo(encodeURIComponent(g));null===t&&e&&(u=e.product_id,v=e.image_src,c=e.product_handle)}1===i.is_activate_home_reviews&&(r||u||(e.A.isMixReview=!0)),a.A.isHomeAllReviews&&(e.A.isMixReview=!0),Review.productId=u,Object.assign(e.A,{productId:u,productName:g,productImages:v,productHandle:c}),(u||e.A.isMixReview)&&await(0,o.getTotalRating)()}}else if(h){(0,t.gsSession)("get","tt_cart_product_id")&&(e.A.cartWatcher=new k.N,await e.A.cartWatcher.init(),(0,o.processRecordedData)("add_to_cart",e.A.cartWatcher.storedCartToken(),!0)),(0,t.$dqs)(".custom-vstar-review-widget")&&(e.A.isMixReview=!0,(0,o.insertReviewControl)(null,{}))}else if(C){e.A.isMixReview=!0;let t={};e.A.allRev&&(t.tarNode=e.A.allRev,t.position="afterbegin"),e.A.isInsertRev=!0,(0,r.Gs)(t)}if(v){e.A.isInsertRev||(0,d.qM)();const t=i.sidetab_setting,s=`#vstar-tab{ background-color:${t.sidetab_background_color}; color:${t.sidetab_font_color} } `;g.insertAdjacentHTML("beforeend",s)}}const L=async function(){if("undefined"!=typeof trustoo_shopify_block_status){if(1===trustoo_shopify_block_status)return;2===trustoo_shopify_block_status&&(trustoo_shopify_block_status=1)}let i,n,l,d="";if(window.Review={},Review.observeCount=0,e.A.productId=shopifyObj.productId,e.A.env="production",e.A.staticBaseUrl="cdn.vstar.app",e.A.isMobile=Review.isMobile=(0,t.isMobile)(),Review.constructTime="2024-06-11 16:03:58",e.A.constructTime=new Date("2024-06-11 16:03:58").getTime()/1e3,Review.theme={},"undefined"!=typeof Shopify&&(Review.shop=Shopify.shop,Object.assign(Review.theme,Shopify.theme)),(0,t.$dqs)("body.warehouse--v1")&&(Review.theme.name="warehouse"),e.A.baseUrl=Review.baseUrl="api.trustoo.io",e.A.isWebPSupported=(0,t.isWebPSupported)(),Review.collTarget=[],Review.loadedPhoto=[],Review.checkGridHighMsg=[],Review.checkGridMsg=[],window.ShopifyAnalytics)i=window.ShopifyAnalytics&&ShopifyAnalytics.lib&&ShopifyAnalytics.lib.config&&ShopifyAnalytics.lib.config.Trekkie.defaultAttributes.shopId,i||(i=shopifyObj.shop_id),Review.shop_id=e.A.shop_id=i,"undefined"!=typeof Shopify&&Shopify.theme&&(e.A.theme_store_id=Shopify.theme.theme_store_id,e.A.themeId=Shopify.theme.id),d=window.ShopifyAnalytics&&window.ShopifyAnalytics.meta.page.pageType;else{if(!document.querySelector("#seal_shop_id"))return;"undefined"!=typeof tt_page_type&&(d=tt_page_type);const t=JSON.parse(document.querySelector("#seal_shop_id").textContent);if(Review.shop_id=e.A.shop_id=t,"product"===d){const t=JSON.parse(document.querySelector("#tt_product").textContent);Review.productId=e.A.productId=t.id,e.A.productName=t.title,e.A.productImages=t.image_url}}Review.pageType=d,e.A.pageType=d,e.A.isHomePage="index"===d||"home"===d,e.A.isCollPage="collection"===d,e.A.isProPage="product"===d,e.A.isCartPage="cart"===d;const p=await s.zG.getInstallStatus();if(null!==p[0]||-1===p[1].code)return;e.A.isProRatingUpdate=1===p[1].product_rating_updating,e.A.isSettingUpdate=1===p[1].shop_setting_updating,e.A.isReviewsUpdate=1===p[1].product_review_updating,e.A.isReviewsUpdate?e.A.revReqParam=(new Date).getTime():e.A.revReqParam=p[1].product_review_updating,(0,t.gsSession)("set","instagram_is_install",p[1].instagram_is_install);if((0,t.gsSession)("set","tt_detail_reviews",JSON.stringify({trustoo_reviews:[],trustoo_show_reviews:[],trustoo_all_reviews:[]})),1!==p[1].review_is_install)return;const u="undefined"!=typeof vstar_review_settings&&vstar_review_settings;u&&!e.A.isSettingUpdate?l=u:([n,l]=await s.zG.getUserSetting(),null!==n&&(await(0,t.setDelay)(1e3),[n,l]=await s.zG.getUserSetting()),null!==n&&(await(0,t.setDelay)(3e3),[n,l]=await s.zG.getUserSetting()));const v=(0,t.gsSession)("get","vstarTimestamp");if(v)e.A.timestamp=v,e.A.isCssLoaded=!0;else{e.A.isFirstExecute=!0;const i=(new Date).getTime();(0,t.gsSession)("set","vstarTimestamp",i),e.A.timestamp=i}e.A.isActWdoRev=1===l.sidetab_setting.sidetab_is_enabled,a.A.setPageReview(i);const g=(0,t.$dqsa)(".pagefly-star-rating-sealapp"),A=(0,t.$dqsa)(".ecom-star-rating-sealapp"),w=(0,t.$dqsa)(".custom-vstar-rating-widget");if(0!==g.length){const t=".pagefly-star-rating-sealapp";a.A.isCollRevWord=!0,e.A.hasPyRating=!0,a.A.customCollTarSel=t,Review.collTarget=Array.from(g)}else 0!==A.length&&(a.A.customCollTarSel=".ecom-star-rating-sealapp",e.A.hasEcomRt=!0,Review.collTarget=Array.from(A));if(0!==w.length&&(e.A.isProPage||(a.A.isCollRevWord=!0,a.A.customCollTarSel=".custom-vstar-rating-widget",e.A.hasPyRating=!0,Review.collTarget=Array.from(w))),"undefined"!=typeof trustooBeforeExecute&&trustooBeforeExecute(e.A,a.A),e.A.isProPage||e.A.isCollPage||e.A.isHomePage||e.A.isCartPage||Shopify.designMode||a.A.isPageReview||e.A.isActWdoRev||a.A.otherPageColl||e.A.hasPyRating||e.A.hasEcomRt){let i=document.createElement("style");i.id="trustoo-css",document.head.appendChild(i),e.A.globalStyle=i,a.A.setUserNeed(),Object.assign(e.A,a.A);const s=async function(){if(e.A.isProPage){let t=shopifyObj.productId,i=shopifyObj.productImage[0],s=shopifyObj.productName;Review.productId=t,Object.assign(e.A,{productId:t,productImages:i,productName:s});const n=location.href.indexOf("/products/");-1!==n&&(e.A.productHandle=location.href.substring(n+10))}(0,t.imgLoadLimit)(["//cdn.vstar.app/static/images/default.png","//cdn.vstar.app/static/images/video_default.png",`//${e.A.staticBaseUrl}/static/images/sprites/trustoo_sprites.png?${e.A.constructTime}`,"//rtestweb.sealapps.com/static/images/player.png"],3),T(l),function(){let i=Review.baseUrl;if("production"===e.A.env&&(i="cdn.vstar.app"),"local"!==e.A.env){var s=document.createElement("link");s.rel="stylesheet";const n=`https://${i}/static/dist/css/trustoo-reviews.min.css?`+e.A.constructTime;s.href=n,s.onerror=function(){this.href=n},s.onload=async function(){if(!e.A.isCssLoaded){e.A.isCssLoaded=!0;const i=(0,t.$dqs)("#vstar-tab");i&&(i.style.display="flex");const s=(0,t.$dqs)(".product-icon-list.vstar-star");s&&(s.style.display="block"),e.A.reviewsDom&&e.A.firstPageShow&&(e.A.reviewsDom.classList.remove("pending"),(0,t.$dqs)(".tt-review-list",e.A.reviewsDom).style.opacity=1)}e.A.isFirstExecute&&e.A.reviewsDom&&e.A.isGrid&&(0,c.pP)((0,t.$dqs)(".tt-review-list",e.A.reviewsDom),!0)},document.head.appendChild(s)}else e.A.isCssLoaded=!0;var n=document.createElement("link");n.rel="stylesheet",n.href=`https://${i}/static/css/index.css`;var o=document.createElement("link");o.rel="stylesheet",o.href=`https://${i}/static/css/trustoo-sprite.min.css`,document.head.appendChild(n),document.head.appendChild(o)}(),function(){let i=["https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"];if(!(0,t.$dqs)(".tt-review-detail-js")){let t=`https://${e.A.staticBaseUrl}/static/js/tt-review-detail.js?`+e.A.constructTime;"local"===e.A.env&&(t=`../../js/tt-review-detail.js?${(new Date).getTime()}`),i.push(t)}i.forEach(((t,e)=>{let i=document.createElement("script");i.src=t,i.setAttribute("defer",!0),1===e&&(i.className="tt-review-detail-js",i.onload=function(){(0,o.insertReviewDetail)()}),document.head.appendChild(i)}))}(),(e.A.isProPage||e.A.isHomePage||a.A.isPageReview)&&window.addEventListener("resize",(function(){!e.A.isMobile&&e.A.isGrid&&(0,r.mR)()}))};a.A.executeDelay&&await(0,t.setDelay)(a.A.executeDelay),s()}};setTimeout((()=>L()),100)})()})();
//# sourceMappingURL=seal-review.min.js.map